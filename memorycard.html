<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/game.css">
</head>

<body>
    <div class="container">
        <h1>Memory Game</h1>
        <div class="game"></div>
        <button class="reset" onclick="window.location.reload();">Reset</button>
    </div>
    <script>
        // åœ¨jsç©ºé–“è£¡å‰µé€ ä¸€å€‹é™£åˆ—
        const emojis = ["ğŸ˜", "ğŸ˜", "ğŸ˜¡", "ğŸ˜¡", "ğŸ«¥", "ğŸ«¥", "ğŸ‘", "ğŸ‘", "ğŸ–ï¸", "ğŸ–ï¸", "ğŸ‘€", "ğŸ‘€", "ğŸ˜§", "ğŸ˜§", "ğŸ¤¤", "ğŸ¤¤"];
        // æƒ³è¾¦æ³•åœ¨HTMLè£¡å¯ä»¥å‡ºç¾å…§å®¹ .createElement('div')
        // for()è¿´åœˆç”¢ç”Ÿå¹¾å€‹divå…ƒç´  sub_emojis[i]
        var sub_emojis = emojis.sort(() => (Math.random() > .5) ? 2 : -1);
        for (var i = 0; i < emojis.length; i++) {
            let box = document.createElement('div');
            box.className = 'item';
            box.innerHTML = sub_emojis[i];

            // box.onclick = function() --> åœ¨è§¸ç™¼å‰ï¼Œæ’å·²ç¶“å®Œå…¨ç™¼å®Œ
            // äº‹ä»¶è§¸ç™¼å¾Œç”¢ç”Ÿæ‰“é–‹æ¨™è¨˜ --> this.classList.add('boxOpen')
            box.onclick = function () {
                this.classList.add('boxOpen');

                setTimeout(function () {
                    if (document.querySelectorAll('.boxOpen').length > 1) {
                        // è¢«é–‹å•Ÿçš„å…©å¼µåœ–ç‰‡HTMLå®Œå…¨ç›¸åŒï¼Œå‰‡. classList.add('boxMatch')
                        if (document.querySelectorAll('.boxOpen')[0].innerHTML == document.querySelectorAll('.boxOpen')[1].innerHTML) {
                            // é¡åˆ¥è¢«åŠ å…¥ boxMatchå¾Œï¼Œå°±è¢«æ¨™è¨˜æ‰“é–‹ --> å¯ç¹¼çºŒå¾€ä¸‹ä¸€å¼µæœªè¢«æ¨™è¨˜çš„æ’æ‰“é–‹
                            document.querySelectorAll('.boxOpen')[0].classList.add('boxMatch');
                            document.querySelectorAll('.boxOpen')[1].classList.add('boxMatch');

                            document.querySelectorAll('.boxOpen')[0].classList.remove('boxOpen');
                            document.querySelectorAll('.boxOpen')[1].classList.remove('boxOpen');

                            // querySelectorALL('.boxMatch') = å¡ç‰Œç¸½æ•¸ --> alert();
                            // å¦å‰‡é¡åˆ¥è¢«ç§»é™¤ boxOpenæ¨™è¨˜
                            if (document.querySelectorAll('.boxMatch').length == emojis.length) {
                                alert('Win');
                            }
                        // å¦‚æœè¢«é–‹å•Ÿçš„å…©å¼µ.innerHTMLå…§å®¹ä¸ç›¸åŒ
                        }else {
                                document.querySelectorAll('.boxOpen')[1].classList.remove('boxOpen');
                                document.querySelectorAll('.boxOpen')[0].classList.remove('boxOpen');
                        }
                    }
                }, 500)
            }
            // å°<div class="game"> append å­å…ƒç´  <div class="box">
            document.querySelector('.game').appendChild(box);
        }
    </script>

</body>

</html>