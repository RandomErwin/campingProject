YUI.add("curation-edit-view",(function(e,i){e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){this.params=e,this.coverPhotoUrl="",this.subviewConfig["basic-closeable-header-view"]=Object.assign(this.subviewConfig["basic-closeable-header-view"],{title:e.title,showCloseXButton:!0,onClose:this.handleCloseClick.bind(this)}),this.subviewConfig["basic-confirm-actions-view"]=Object.assign(this.subviewConfig["basic-confirm-actions-view"],{showMessage:!0,message:e.deleteMessage,messageIsError:!1,messageIsClickable:!0,confirmButtonText:this.intlMessage({intlName:"common.SAVE"}),onCancel:this.handleCloseClick.bind(this),onConfirm:this.handleSaveClick.bind(this),onMessageClick:this.handleDeleteClick.bind(this)})},subviewConfig:{"basic-closeable-header-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1},"basic-confirm-actions-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1}},loadState:function(){return this.params.coverPhotoId?this.appContext.getModel("photo-models",this.params.coverPhotoId).then((e=>{this.primaryPhotoModel=e,this.coverPhotoUrl=this.primaryPhotoModel.getValue("sizes").sq.displayUrl})):e.Promise.resolve()},buildContainer:function(e){var i=this.intlMessage({intlName:"common.CHOOSE_A_COVER_PHOTO"});this.coverPhotoUrl&&(i=this.intlMessage({intlName:"common.CHANGE_COVER_PHOTO"})),e.coverPhotoText=i,this.setContainerWithTemplate("curation-edit-view",e)},activate:function(){var e=this.get("container");this.confirmView=this.subviews["basic-confirm-actions-view"],this.titleField=e.one(".curation-title-input"),this.descriptionField=e.one(".curation-description-input"),this.coverPhotoItem=e.one(".curation-edit-coverphoto-item"),this.coverPhotoNode=this.coverPhotoItem.one(".photo"),this.coverPhotoButton=e.one(".cover-photo-button"),this.coverPhotoButton&&this.registerEventHandler(this.coverPhotoButton.on(["click","key"],this.handleCoverPhotoClick.bind(this),"down:13")),this.titleField.focus(),this.showCoverPhoto(this.coverPhotoUrl)},showCoverPhoto:function(e){this.coverPhotoNode.setStyle("backgroundImage","url("+e+")")},handleCloseClick:function(){this.fire("readyToClose")},showConfirmDeleteModal:function(){new e.Views.FluidModal({appContext:this.appContext,subview:new e.Views["confirmation-dialog-view"]({appContext:this.appContext,title:this.intlMessage({intlName:"common.CONFIRMATION"}),htmlMessage:this.params.confirmDeleteMessage,onConfirm:()=>this.handleDeleteConfirmClick(),onCancel:()=>e.fire("curationEdit:deleteCanceled"),onClose:()=>e.fire("curationEdit:deleteCanceled")}),hasSubviewConfigRefactor:!0}).show()},handleCoverPhotoClick:function(){this.storeEditedMeta("curationEdit:coverPhotoClicked")},handleDeleteClick:function(){this.storeEditedMeta("curationEdit:deleteClicked"),this.showConfirmDeleteModal()},storeEditedMeta:function(i){e.fire(i,{storedEditMeta:{title:this.titleField.get("value"),description:this.descriptionField.get("value")}})}})}),"@VERSION@",{requires:["flickr-view","hermes-template-curation-edit-view"],optionalRequires:["hermes-core"],langBundles:["common"]});YUI.add("album-edit-view",(function(t,i){var e=require("hermes-core/flog")(i);t.FlickrView.create(this.name,t.namespace("Views")["curation-edit-view"],[],{langBundles:this.details.langBundles,initializer:function(t){this.params=t,this.albumModel=this.params.albumModel,this.nsidOrPathAlias=this.params.nsidOrPathAlias,this.coverPhotoUrl="",this.coverPhotoText=""},buildContainer:function(){var t={title:this.params.curationTitle,description:this.params.curationDescription};return this.constructor.superclass.buildContainer.call(this,t)},activate:function(){var t=this.get("container");this.titleField=t.one(".curation-title-input"),this.descriptionField=t.one(".curation-description-input"),this.constructor.superclass.activate.call(this)},handleSaveClick:function(i,a){a.setButtonState({confirm:"loading"});var o=this.albumModel.getValue("id"),r=[],l={title:this.titleField.get("value"),description:this.descriptionField.get("value")},s=!1;return this.albumModel&&this.albumModel.getValue("id")!==this.params.coverPhotoId&&(!1===this.albumModel.hasPhoto(this.primaryPhotoModel.id)?(s=!0,l.primary=this.primaryPhotoModel.id):l.primary=this.primaryPhotoModel.id),this.albumModel.setValues(l),r.push(this.albumModel.remoteUpdate(o)),t.Promise.all(r).then((t=>{s&&this.albumModel.addPhoto(this.primaryPhotoModel),a.setButtonState({confirm:""}),this.fire("readyToClose")})).catch((function(t){throw e.error("Error updating album info",{err:t}),a.setButtonState({confirm:""}),t}))},handleDeleteConfirmClick:function(){return this.albumModel.remoteDelete(this.albumModel.getValue("id")).then((i=>{t.config.win.location=this.nsidOrPathAlias?"/photos/"+this.nsidOrPathAlias+"/albums/":""})).catch((t=>{throw e.error("Error deleting album",{err:t}),this.deleteConfirmButton.removeAttribute("disabled"),t}))}})}),"@VERSION@",{requires:["flickr-view","curation-edit-view"],optionalRequires:["hermes-core"],langBundles:["common","album-page","global-nav"]});YUI.add("hermes-template-photo-list-header",(function(n,t){var l=n.Template.Handlebars.revive({1:function(n,t,l,e,a){var o,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=s(l,"if").call(null!=t?t:n.nullContext||{},null!=t?s(t,"viewerCanEdit"):t,{name:"if",hash:{},fn:n.program(2,a,0),inverse:n.noop,data:a,loc:{start:{line:11,column:4},end:{line:16,column:11}}}))?o:""},2:function(n,t,l,e,a){var o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t<a role="button" class="action edit" tabindex="0">\n\t\t\t\t\t\t<svg class="icon icon-edit"><use xlink:href="#icon-edit"></use></svg>\n\t\t\t\t\t\t<span>'+n.escapeExpression((o(l,"intlMessage")||t&&o(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"common.EDIT"},data:a,loc:{start:{line:14,column:12},end:{line:14,column:51}}}))+"</span>\n\t\t\t\t\t</a>\n"},4:function(n,t,l,e,a){var o,s=null!=t?t:n.nullContext||{},i=n.hooks.helperMissing,c="function",r=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t<a role="button" class="action '+r(typeof(o=null!=(o=u(l,"action")||(null!=t?u(t,"action"):t))?o:i)===c?o.call(s,{name:"action",hash:{},data:a,loc:{start:{line:19,column:34},end:{line:19,column:44}}}):o)+'" tabindex="0">\n\t\t\t\t<svg class="icon icon-'+r(typeof(o=null!=(o=u(l,"icon")||(null!=t?u(t,"icon"):t))?o:i)===c?o.call(s,{name:"icon",hash:{},data:a,loc:{start:{line:20,column:26},end:{line:20,column:34}}}):o)+'"><use xlink:href="#icon-'+r(typeof(o=null!=(o=u(l,"icon")||(null!=t?u(t,"icon"):t))?o:i)===c?o.call(s,{name:"icon",hash:{},data:a,loc:{start:{line:20,column:59},end:{line:20,column:67}}}):o)+'"></use></svg>\n\t\t\t\t<span>'+r(typeof(o=null!=(o=u(l,"label")||(null!=t?u(t,"label"):t))?o:i)===c?o.call(s,{name:"label",hash:{},data:a,loc:{start:{line:21,column:10},end:{line:21,column:19}}}):o)+"</span>\n\t\t\t</a>\n"},6:function(n,t,l,e,a){return" hidden"},8:function(n,t,l,e,a){var o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<span class="stats-separator">&middot;</span>\n\t\t\t\t<a role="button" class="stat comment-count">\n\t\t\t\t\t'+n.escapeExpression((o(l,"intlHTMLMessage")||t&&o(t,"intlHTMLMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlHTMLMessage",hash:{countString:null!=t?o(t,"commentCountString"):t,commentCount:null!=t?o(t,"commentCount"):t,intlName:"common.COMMENT_COUNT_FORMATTED"},data:a,loc:{start:{line:56,column:5},end:{line:56,column:123}}}))+"\n\t\t\t\t</a>\n"},compiler:[8,">= 4.3.0"],main:function(n,t,l,e,a){var o,s,i=null!=t?t:n.nullContext||{},c=n.hooks.helperMissing,r="function",u=n.escapeExpression,m=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'<div class="photo-list-header-action-bar">\n\t<div class="action-bar-content">\n\t\t<div class="back-link-container">\n\t\t\t<a class="back-link" href="'+u(typeof(s=null!=(s=m(l,"backUrl")||(null!=t?m(t,"backUrl"):t))?s:c)===r?s.call(i,{name:"backUrl",hash:{},data:a,loc:{start:{line:4,column:30},end:{line:4,column:41}}}):s)+'">\n\t\t\t\t<svg class="icon icon-back"><use xlink:href="#icon-back"></use></svg>\n\t\t\t\t<span>'+u(typeof(s=null!=(s=m(l,"backToMessage")||(null!=t?m(t,"backToMessage"):t))?s:c)===r?s.call(i,{name:"backToMessage",hash:{},data:a,loc:{start:{line:6,column:10},end:{line:6,column:27}}}):s)+'</span>\n\t\t\t</a>\n\t\t</div>\n\t\t<div class="actions">\n'+(null!=(o=m(l,"if").call(i,null!=t?m(t,"signedIn"):t,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:10,column:3},end:{line:17,column:10}}}))?o:"")+(null!=(o=m(l,"each").call(i,null!=t?m(t,"actions"):t,{name:"each",hash:{},fn:n.program(4,a,0),inverse:n.noop,data:a,loc:{start:{line:18,column:3},end:{line:23,column:12}}}))?o:"")+'\t\t\t<a role="button" class="action share" tabindex="0">\n\t\t\t\t<svg class="icon icon-share_hollow"><use xlink:href="#icon-share_hollow"></use></svg>\n\t\t\t\t<span>'+u((m(l,"intlMessage")||t&&m(t,"intlMessage")||c).call(i,{name:"intlMessage",hash:{intlName:"share-modal.FLICKR_SHARE"},data:a,loc:{start:{line:26,column:10},end:{line:26,column:62}}}))+'</span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</div>\n\n<div role="main" class="photo-list-header-container">\n\t<section class="details-section">\n\t\t<header>\n\t\t\t<h1 class="title">'+u(typeof(s=null!=(s=m(l,"title")||(null!=t?m(t,"title"):t))?s:c)===r?s.call(i,{name:"title",hash:{},data:a,loc:{start:{line:35,column:21},end:{line:35,column:30}}}):s)+"</h1>\n\t\t\t<p>"+u((m(l,"renderTrustedMarkup")||t&&m(t,"renderTrustedMarkup")||c).call(i,null!=t?m(t,"byString"):t,{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:36,column:6},end:{line:36,column:38}}}))+'</p>\n\t\t</header>\n\t\t<div class="description short'+(null!=(o=m(l,"if").call(i,null!=t?m(t,"shortDescription"):t,{name:"if",hash:{},fn:n.noop,inverse:n.program(6,a,0),data:a,loc:{start:{line:38,column:31},end:{line:38,column:69}}}))?o:"")+'">\n\t\t\t<p>\n\t\t\t\t'+u((m(l,"renderTrustedMarkup")||t&&m(t,"renderTrustedMarkup")||c).call(i,null!=t?m(t,"shortDescription"):t,{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:40,column:4},end:{line:40,column:44}}}))+'\n\t\t\t</p>\n\t\t\t<a role="button" class="read-more-button hidden" tabindex="0">'+u((m(l,"intlHTMLMessage")||t&&m(t,"intlHTMLMessage")||c).call(i,{name:"intlHTMLMessage",hash:{intlName:"common.DESCRIPTION_READ_MORE"},data:a,loc:{start:{line:42,column:65},end:{line:42,column:125}}}))+'</a>\n\t\t\t<a role="button" class="read-less-button hidden" tabindex="0">'+u((m(l,"intlMessage")||t&&m(t,"intlMessage")||c).call(i,{name:"intlMessage",hash:{intlName:"common.DESCRIPTION_READ_LESS"},data:a,loc:{start:{line:43,column:65},end:{line:43,column:121}}}))+'</a>\n\t\t</div>\n\t\t<div class="stats">\n\t\t\t<span class="stat photo-count">\n\t\t\t\t'+u(typeof(s=null!=(s=m(l,"itemCountString")||(null!=t?m(t,"itemCountString"):t))?s:c)===r?s.call(i,{name:"itemCountString",hash:{},data:a,loc:{start:{line:47,column:4},end:{line:47,column:23}}}):s)+'\n\t\t\t</span>\n\t\t\t<span class="stats-separator">&middot;</span>\n\t\t\t<span class="stat view-count">\n\t\t\t\t'+u((m(l,"intlHTMLMessage")||t&&m(t,"intlHTMLMessage")||c).call(i,{name:"intlHTMLMessage",hash:{countString:null!=t?m(t,"viewCountString"):t,viewCount:null!=t?m(t,"viewCount"):t,intlName:"common.VIEW_COUNT_FORMATTED"},data:a,loc:{start:{line:51,column:4},end:{line:51,column:110}}}))+"\n\t\t\t</span>\n"+(null!=(o=m(l,"if").call(i,null!=t?m(t,"hasCommentStats"):t,{name:"if",hash:{},fn:n.program(8,a,0),inverse:n.noop,data:a,loc:{start:{line:53,column:3},end:{line:58,column:10}}}))?o:"")+"\t\t</div>\n\t</section>\n</div>"},useData:!0}),e={};n.Array.each([],(function(t){var l=n.Template.get("hermes/"+t);l&&(e[t]=l)})),n.Template.register("hermes/photo-list-header",(function(t,a){return(a=a||{}).partials=a.partials?n.merge(e,a.partials):e,l(t,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("photo-list-header-view",(function(e,t){e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this},buildContainer:function(e){return this.setContainerWithTemplate("photo-list-header",e),this},activate:function(){var t=this.get("container");return this.actions=t.one(".actions"),this.descripNode=t.one(".description"),this.descripContentNode=this.descripNode.one("p"),this.readMoreButton=t.one(".read-more-button"),this.readLessButton=t.one(".read-less-button"),this.changeDescription(this.getDescription()),this.actions&&(this.registerEventHandler(this.actions.delegate("click",this.handleActionClick.bind(this),".action")),this.registerEventHandler(this.actions.delegate("key",this.handleActionClick.bind(this),"down:13",".action"))),this.readMoreButton&&this.registerEventHandler(this.readMoreButton.on(["click","key"],this.handleReadMoreClick.bind(this),"down:13")),this.readLessButton&&this.registerEventHandler(this.readLessButton.on(["click","key"],this.handleReadLessClick.bind(this),"down:13")),this.registerEventHandler(e.on("curationEdit:deleteCanceled",(e=>{setTimeout(this.showEditModal.bind(this),1)}))),this.registerEventHandler(e.globalEvents.subscribe("window:resize",this.handleResize.bind(this))),this},handleReadMoreClick:function(){this.toggleLongDescription(!0),this.readLessButton.focus()},handleReadLessClick:function(){this.toggleLongDescription(!1),this.readMoreButton.focus()},toggleLongDescription:function(e){this.descripNode.toggleClass("short",!e),e?(this.descripContentNode.setHTML(this.longDescription),this.readMoreButton.toggleClass("hidden",!0),this.readLessButton.toggleClass("hidden",!1)):(this.descripContentNode.setHTML(this.description),this.readMoreButton.toggleClass("hidden",!1),this.readLessButton.toggleClass("hidden",!0))},changeDescription:function(e){this.description=e,this.description?(this.descripNode.removeClass("hidden"),this.longDescription=e.replace(/(\r\n|\n|\r)/gm,"<br>"),this.toggleLongDescription(!1),this.descripContentNode.setHTML(this.longDescription),this.descripContentNode.getDOMNode().scrollHeight>this.descripContentNode.getDOMNode().clientHeight?(this.descripNode.toggleClass("short-plus",!0),this.descripContentNode.getDOMNode().scrollHeight>this.descripContentNode.getDOMNode().clientHeight?(this.descripNode.toggleClass("no-read-more",!1),this.descripNode.toggleClass("short-plus",!1),this.descripContentNode.setHTML(this.description)):this.descripNode.toggleClass("no-read-more",!0)):this.descripNode.toggleClass("no-read-more",!0)):this.descripNode.addClass("hidden")},handleResize:function(){this.changeDescription(this.description)}})}),"@VERSION@",{requires:["flickr-view","hermes-template-photo-list-header"],optionalRequires:["hermes-core"],optional:["set-models"],langBundles:["common","share-modal"]});YUI.add("new-album-header-view",(function(e,t){e.FlickrView.create(this.name,e.namespace("Views")["photo-list-header-view"],[],{langBundles:this.details.langBundles,initializer:function(e){return this.albumId=e.albumId,this.nsidOrPathAlias=e.nsidOrPathAlias,this.constructor.superclass.initializer.call(this,e)},loadState:function(){var t=[];return t.push(this.appContext.getModel("set-models",this.albumId)),e.Promise.all(t).then((e=>{this.set("albumModel",e[0])}))},buildContainer:function(){var t=this.get("albumModel"),i=this.appContext.getViewer().signedIn&&this.appContext.getViewer().nsid===t.getValue("owner").id,o="/photos/"+this.nsidOrPathAlias+"/albums/with/"+this.albumId,a="",s=[{action:"photobook",icon:"book",label:this.intlMessage({intlName:"wallet.ORDERS_PHOTO_BOOK"})},{action:"download",icon:"download_hollow",label:this.intlMessage({intlName:"common.DOWNLOAD"})}];a=i?this.intlMessage({intlName:"common.BY_YOU_WITH_URL",ownerUrl:t.getValue("owner").getValue("url")}):this.intlMessage({intlName:"common.BY_USER_WITH_URL",username:e.StringHelper.escapeHtml(t.getValue("owner").getValue("username")),userUrl:t.getValue("owner").getValue("url")});var n={actions:s,backUrl:o,backToMessage:this.intlMessage({intlName:"album-page.BACK_TO_ALBUMS"}),signedIn:this.appContext.getViewer().signedIn,viewerCanEdit:i&&!t.getValue("isAutoUploadSet"),title:t.getValue("title"),byString:a,shortDescription:t.getValue("description"),itemCountString:t.getValue("photoAndVideosDisplay"),viewCount:t.getValue("viewCount"),viewCountString:e.IntlNumber.format(t.getValue("viewCount"),this.appContext.lang,1)};return this.constructor.superclass.buildContainer.call(this,n)},activate:function(){var t=this.get("container"),i=this.get("albumModel");this.actions=t.one(".actions"),this.downloadLink=this.actions.one(".action.download"),this.registerEventHandler(i.on("valuesChanged",(function(e){e.photoAndVideosDisplay&&t.one(".photo-count").set("text",e.photoAndVideosDisplay.newVal)}))),this.downloadLink&&(this.bulkDownloaderView=new e.BulkDownloaderView({appContext:this.appContext})),this.registerEventHandler(this.get("albumModel").on("valuesChanged",this.handleAlbumModelValuesChanged.bind(this))),this.constructor.superclass.activate.call(this)},handleActionClick:function(e){e.target.ancestor(".action.share",!0)?this.showShareModal(e.target):e.target.ancestor(".action.download",!0)?this.downloadAlbum(e):e.target.ancestor(".action.photobook",!0)?this.createBookFromAlbum(e):e.target.ancestor(".action.edit",!0)&&this.showEditModal(e)},showShareModal:function(t){var i=new e.Views["fluid-share-album-view"]({appContext:this.appContext,albumId:this.albumId});i.initialize().then((function(){return i.prepareModal(t)}))},downloadAlbum:function(t){var i,o=this.get("albumModel");return this.appContext.getViewer().signedIn&&this.appContext.getViewer().nsid===o.getValue("owner").id&&this.bulkDownloaderView.set("isOwnAlbum",!0),1===o.getValue("totalCount")?o.getValue("photoPageList").getPage({page:1,perPage:1}).then((t=>{var i,o,a,s=t[0];s.getValue("isVideo")&&!this.appContext.flipper.isFlipped("disable-video-playback")?o="/video_download.gne?id="+s.id:(i=(a=s.getLargestSize({excludeSizes:[]}).url.split(".")).pop(),0===(o=a.join(".")+"_d."+i).indexOf("//")&&(o="https:"+o)),e.config.doc.location.href=o})):o.getValue("totalCount")>e.config.flickr.downloadr.max_album_items?(e.rapidTracker.beacon(this.name,"albumDownloadTooMany"),this.onError(this.intlMessage({intlName:this.bulkDownloaderView.get("isOwnAlbum")?"downloadr.ALBUM_TOO_MANY_OWN":"downloadr.ALBUM_TOO_MANY_OTHER",username:o.getValue("owner").getValue("displayname"),userurl:o.getValue("owner").getValue("url"),url:"/photos/organize?start_tab=one_set"+o.id}))):(i=this.bulkDownloaderView.createTitle(o.getValue("photoCount"),o.getValue("videoCount")),void this.bulkDownloaderView.showDownloadDialog({title:i,setID:this.albumId}))},createBookFromAlbum:function(){this.appContext.flapp.navigate("/create")},getDescription:function(){return this.get("albumModel").getValue("description")},handleAlbumModelValuesChanged:function(e){var t=this.get("container"),i=t.one(".title"),o=t.one(".photo-count");e.title&&i&&i.set("text",e.title.newVal),e.description&&this.changeDescription(e.description.newVal),e.photoPageList&&this.fire("subviewViewEvent","newPhotoAddedToAlbum"),e.photoAndVideosDisplay&&o&&o.set("text",e.photoAndVideosDisplay.newVal)},showEditModal:function(){var t=this.get("albumModel"),i=new e.Views["album-edit-view"]({appContext:this.appContext,nsidOrPathAlias:this.nsidOrPathAlias,albumModel:t,title:this.intlMessage({intlName:"album-page.EDIT_ALBUM"}),curationTitle:this.storedEditMeta?this.storedEditMeta.title:t.getValue("title"),curationDescription:this.storedEditMeta?this.storedEditMeta.description:t.getValue("description"),coverPhotoId:this.storedCoverPhotoId?this.storedCoverPhotoId:t.getValue("primary"),deleteMessage:this.intlMessage({intlName:"album-page.DELETE_ALBUM"}),confirmDeleteMessage:this.intlMessage({intlName:"album-page.DELETE_ALBUM_CONFIRMATION"})});this.storedEditMeta=null,this.editModal=new e.Views.FluidModal({appContext:this.appContext,subview:i,width:600,classList:["curation-edit-view"],focusOnFirstTabPress:!1,hasSubviewConfigRefactor:!0}).show(),i.registerEventHandler(e.on("curationEdit:coverPhotoClicked",(e=>{var t=this.storedCoverPhotoId;this.storedEditMeta=e.storedEditMeta,this.editModal.close(),setTimeout((()=>{this.storedCoverPhotoId=t,this.showPhotoPicker()}),1)}))),i.registerEventHandler(e.on("curationEdit:deleteClicked",(e=>{this.storedEditMeta=e.storedEditMeta,this.editModal.close()})))},showPhotoPicker:function(){var t=this.get("albumModel"),i={appContext:this.appContext,enableVideos:!0,searchable:{yours:!0}};i.defaultSelected={id:t.getValue("id"),title:t.getValue("title"),type:"set"};var o=[{id:"photostream",name:this.intlMessage({intlName:"common.PHOTOSTREAM"}),value:"photostream"},{id:"sets",name:this.intlMessage({intlName:"common.ALBUMS"}),value:"sets",selected:!0},{id:"upload",name:this.intlMessage({intlName:"global-nav.UPLOAD"}),value:"upload"}],a=[{id:"photostream",name:this.intlMessage({intlName:"common.PHOTOSTREAM"}),value:"photostream"},{id:"sets",name:this.intlMessage({intlName:"common.ALBUMS"}),value:"sets",selected:!0}],s=[{id:"sets",name:this.intlMessage({intlName:"common.ALBUMS"}),value:"sets",selected:!0},{id:"photostream",name:this.intlMessage({intlName:"common.PHOTOSTREAM"}),value:"photostream"},{id:"upload",name:this.intlMessage({intlName:"global-nav.UPLOAD"}),value:"upload"}];return this.appContext.getModel("photo-models",t.getValue("primary")).then((t=>{i.preSelectedPhotos=[t],i.navBarConfig={appContext:this.appContext,enableSearch:!0,links:s,breakpointConfig:[{maxWidth:700,links:o,enableSearch:!1},{maxWidth:500,links:a,enableSearch:!1}],onClose:e=>{this.photoPicker.close()}},i.onConfirm=e=>{var t=this.photoPicker.get("subview").get("selected");this.storedCoverPhotoId=t,this.photoPicker.close()},i.initialButtonState={confirm:""};let n=new e.Views["photo-selector-view"](i);this.photoPicker=new e.Views.FluidModal({appContext:this.appContext,dismissOnOverlayClick:!0,subview:n,width:Math.round(.8*Math.max(1280,e.config.win.innerWidth)),height:Math.round(e.config.win.innerHeight-60),fullWindow:!0,classList:"photo-selector album-coverphoto-selector",hasSubviewConfigRefactor:!0,flexLayout:!0}).show(),this.photoPicker.registerEventHandler(e.on("photoSelector:selected",(e=>{n.confirmView.setButtonState({confirm:""})}))),this.photoPicker.registerEventHandler(e.on("photoSelector:unselected",(e=>{n.confirmView.setButtonState({confirm:"disabled"})}))),this.photoPicker.on("close",(()=>{setTimeout(this.showEditModal.bind(this),1)}))}))}})}),"@VERSION@",{requires:["flickr-view","album-edit-view","fluid-share-album-view","photo-list-header-view"],optionalRequires:["hermes-core"],optional:["set-models"],langBundles:["common","album-page","wallet","global-nav"]});YUI.add("hermes-lang-wallet_zh-hk",(function(e,E){e.Intl.add("hermes/wallet","zh-HK",{ORDER_HISTORY:[{type:0,value:"訂購紀錄"}],PAYOUTS:[{type:0,value:"退款"}],LINK_PAYPAL:[{type:0,value:"連接至你的 PayPal 帳戶，即可收取 Flickr 的款項"}],LINK_PAYPAL_ACCOUNT:[{type:0,value:"連接至我的 PayPal 帳戶"}],VERIFYING_ACCOUNT:[{type:0,value:"正在驗證帳戶"}],RETRY_ACCOUNT_VERIFICATION:[{type:0,value:'我們無法驗證您的帳戶。請<a  class="retry" href="#">再試一次。'}],VERIFY_ACCOUNT:[{type:0,value:"驗證帳戶"}],DELETE_ACCOUNT:[{type:0,value:"正在刪除帳戶"}],DELETE_ACCOUNT_RETRY:[{type:0,value:'我們無法刪除你的帳戶。請<a  class="retry" href="#">再試一次。</a>'}],ACCOUNT:[{type:0,value:"帳戶"}],DELETE_PAYOUT_METHOD:[{type:0,value:"刪除此退款方式"}],TOTAL_AMOUNT:[{type:0,value:"總金額"}],STATEMENT_NUMBER:[{type:0,value:"帳單編號"}],PAYMENT_POSTED:[{type:0,value:'<p class="tertiary">有款項存入 </p><h5>PayPal '},{type:1,value:"email"},{type:0,value:"，存款日期："},{type:1,value:"invoiceDate"},{type:0,value:"</h5>"}],SALES_DATE:[{type:0,value:"銷售日期"}],SALES_DESCRIPTION:[{type:0,value:"描述"}],SALES_PHOTO:[{type:0,value:"相片"}],SALES_SOURCE:[{type:0,value:"來源"}],SALES_AMOUNT:[{type:0,value:"金額"}],ADD_PAYMENT_METHOD:[{type:0,value:"新增付款方式"}],PAYMENT_METHODS:[{type:0,value:"付款方式"}],PAYMENT_METHOD_EXPIRED:[{type:0,value:"付款方式已過期"}],EXPIRED_PAYMENT_METHOD:[{type:0,value:"已過期"}],DEFAULT_PAYMENT_METHOD_LABEL:[{type:0,value:"你的預設付款方式"}],DEFAULT_PAYMENT_METHOD:[{type:0,value:"預設"}],LINKED_PRO_METHOD:[{type:0,value:"你的 Pro 訂購項目已連接至此付款方式"}],PRO_FROM_METHOD:[{type:0,value:"Pro"}],LINKED_AD_FREE_METHOD:[{type:0,value:"你的無廣告訂購項目已連接至此付款方式"}],AD_FREE_FROM_METHOD:[{type:0,value:"無廣告"}],ACTIONS_AVAILABLE_METHOD:[{type:0,value:"此付款方式的可用操作"}],DELETE_ACTION:[{type:0,value:"刪除"}],CANCEL_ACTION:[{type:0,value:"取消"}],METHOD_ACTION_TRY_AGAIN:[{type:0,value:'發生錯誤。<a href="#" class="cc-action cancel">再試一次</a>'}],NO_METHODS:[{type:0,value:"目前此帳戶沒有任何款項資料"}],ORDERS_SUBSCRIPTIONS:[{type:0,value:"訂購"}],SUBSCRIPTION_DATE_HEADER:[{type:0,value:"日期"}],SUBSCRIPTION_ORDER_HEADER:[{type:0,value:"訂單"}],SUBSCRIPTION_PLAN_HEADER:[{type:0,value:"計劃"}],SUBSCRIPTION_AMOUNT_HEADER:[{type:0,value:"金額"}],ORDERS_CREATIONS:[{type:0,value:"作品"}],CREATION_DATE_HEADER:[{type:0,value:"日期"}],CREATION_ORDER_HEADER:[{type:0,value:"訂單"}],CREATION_PRODUCT_HEADER:[{type:0,value:"產品"}],CREATION_STATUS_HEADER:[{type:0,value:"狀態"}],ORDERS_PHOTO_BOOK:[{type:0,value:"攝影集"}],ORDERS_WALL_ART:[{type:0,value:"掛牆裝飾"}],CANCEL_CREATION:[{type:0,value:"取消"}],VIEW_ALL_CREDIT_CARDS:[{type:0,value:"查看所有信用卡"}],UPDATE_YOUR_PAYMENT_METHOD:[{type:0,value:"更新付款方式"}],CLICK_TO_LOGIN_PAYPAL:[{type:0,value:"按一下 Paypal 按鈕，並使用你的電郵及密碼登入 Paypal"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-footer-full",(function(t,l){var n=t.Template.Handlebars.revive({1:function(t,l,n,e,a){return" sohp"},3:function(t,l,n,e,a){var s,i=null!=l?l:t.nullContext||{},o=t.hooks.helperMissing,c=t.escapeExpression,r=t.lookupProperty||function(t,l){if(Object.prototype.hasOwnProperty.call(t,l))return t[l]};return'\t\t\t\t\t<li class="foot-li privacy-item"><a href="/help/privacy">'+c((r(n,"intlMessage")||l&&r(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:19,column:62},end:{line:19,column:103}}}))+'</a></li>\n\t\t\t\t\t<li class="foot-li terms-item"><a href="/help/terms">'+c((r(n,"intlMessage")||l&&r(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:20,column:58},end:{line:20,column:97}}}))+"</a></li>\n"+(null!=(s=(r(n,"isFlipped")||l&&r(l,"isFlipped")||o).call(i,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:21,column:5},end:{line:23,column:19}}}))?s:"")},4:function(t,l,n,e,a){var s=t.lookupProperty||function(t,l){if(Object.prototype.hasOwnProperty.call(t,l))return t[l]};return'\t\t\t\t\t\t<li class="foot-li trustarc-cookie-pref-item"><a class="trustarc-cookie-pref-link" href="/help/cookies">'+t.escapeExpression((s(n,"intlMessage")||l&&s(l,"intlMessage")||t.hooks.helperMissing).call(null!=l?l:t.nullContext||{},{name:"intlMessage",hash:{intlName:"policy-terms.COOKIES"},data:a,loc:{start:{line:22,column:110},end:{line:22,column:157}}}))+"</a></li>\n"},6:function(t,l,n,e,a){var s=t.lookupProperty||function(t,l){if(Object.prototype.hasOwnProperty.call(t,l))return t[l]};return'\t\t\t\t\t<li class="foot-li footer-company-item">\n\t\t\t\t\t\t<div class="foot-company">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t'+t.escapeExpression((s(n,"intlHTMLMessage")||l&&s(l,"intlHTMLMessage")||t.hooks.helperMissing).call(null!=l?l:t.nullContext||{},{name:"intlHTMLMessage",hash:{flickrUrl:"/",smugUrl:"https://www.smugmug.com/",intlName:"common.SMUG_FLICKR_FOOTER_ATTRIBUTION"},data:a,loc:{start:{line:33,column:8},end:{line:36,column:24}}}))+"\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n"},8:function(t,l,n,e,a){var s=null!=l?l:t.nullContext||{},i=t.hooks.helperMissing,o=t.escapeExpression,c=t.lookupProperty||function(t,l){if(Object.prototype.hasOwnProperty.call(t,l))return t[l]};return'\t\t\t\t<div class="foot-company">\n\t\t\t\t\t<span class="foot-attribution">\n\t\t\t\t\t\t'+o((c(n,"intlHTMLMessage")||l&&c(l,"intlHTMLMessage")||i).call(s,{name:"intlHTMLMessage",hash:{flickrUrl:"/",smugUrl:"https://www.smugmug.com/",intlName:"common.SMUG_FLICKR_FOOTER_ATTRIBUTION"},data:a,loc:{start:{line:74,column:6},end:{line:77,column:22}}}))+'\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="foot-message">\n\t\t\t\t\t\t'+o((c(n,"intlMessage")||l&&c(l,"intlMessage")||i).call(s,{name:"intlMessage",hash:{intlName:"common.CONNECTING_PEOPLE_THROUGH_PHOTOGRAPHY"},data:a,loc:{start:{line:80,column:6},end:{line:80,column:77}}}))+"\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n"},10:function(t,l,n,e,a){return'\t\t\t\t<div class="foot-company empty">\n\t\t\t\t\t&nbsp;\n\t\t\t\t</div>\n'},compiler:[8,">= 4.3.0"],main:function(t,l,n,e,a){var s,i=null!=l?l:t.nullContext||{},o=t.hooks.helperMissing,c=t.escapeExpression,r=t.lambda,m=t.lookupProperty||function(t,l){if(Object.prototype.hasOwnProperty.call(t,l))return t[l]};return'<div class="foot-banner-container"></div>\n\n<footer class="foot'+(null!=(s=m(n,"if").call(i,null!=l?m(l,"isSOHP"):l,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:3,column:19},end:{line:3,column:45}}}))?s:"")+'">\n\t<div class="foot-container desktop-layout" role="contentinfo">\n\t\t<div class="foot-top-row">\n\t\t\t<ul class="foot-top-nav foot-nav-ul">\n\t\t\t\t<li class="foot-li"><a href="/about">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:a,loc:{start:{line:7,column:41},end:{line:7,column:80}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/jobs">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:a,loc:{start:{line:8,column:40},end:{line:8,column:78}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a target="_blank" href="//blog.flickr.net/en">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:a,loc:{start:{line:9,column:71},end:{line:9,column:109}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a target="_blank" href="https://www.flickrads.com?utm_source=flickr&utm_campaign=footer">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.ADVERTISE"},data:a,loc:{start:{line:10,column:114},end:{line:10,column:157}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/services/developer">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:a,loc:{start:{line:11,column:54},end:{line:11,column:98}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/guidelines">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:a,loc:{start:{line:12,column:51},end:{line:12,column:95}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-privacy-item"><a href="/help/privacy">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:13,column:68},end:{line:13,column:109}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-terms-item"><a href="/help/terms">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:14,column:64},end:{line:14,column:103}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-help-item"><a target="_blank" href="//flickrhelp.com">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.HELP"},data:a,loc:{start:{line:15,column:84},end:{line:15,column:122}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-report-item"><a href="/abuse">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.REPORT_ABUSE"},data:a,loc:{start:{line:16,column:60},end:{line:16,column:106}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/forum">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:a,loc:{start:{line:17,column:46},end:{line:17,column:90}}}))+"</a></li>\n"+(null!=(s=m(n,"if").call(i,null!=l?m(l,"isSOHP"):l,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a,loc:{start:{line:18,column:4},end:{line:24,column:11}}}))?s:"")+'\t\t\t\t<li class="foot-li lang-switcher">\n\t\t\t\t\t<a href="/change_language.gne?lang='+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"code"):s,l))+"&csrf="+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"csrf"):s,l))+'">'+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"name"):s,l))+'</a>\n\t\t\t\t\t<span class="arrow"></span>\n\t\t\t\t</li>\n'+(null!=(s=m(n,"if").call(i,null!=l?m(l,"showCompany"):l,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a,loc:{start:{line:29,column:4},end:{line:40,column:11}}}))?s:"")+'\t\t\t\t<li class="foot-li footer-social-item">\n\t\t\t\t\t<div class="foot-social">\n\t\t\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t\t\t</a></li>\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="foot-bottom-row">\n\t\t\t<div class="foot-row-content">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li class="foot-li"><a href="/help/privacy">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:63,column:49},end:{line:63,column:90}}}))+'</a></li>\n\t\t\t\t\t<li class="foot-li"><a href="/help/terms">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:64,column:47},end:{line:64,column:86}}}))+"</a></li>\n"+(null!=(s=(m(n,"isFlipped")||l&&m(l,"isFlipped")||o).call(i,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:65,column:5},end:{line:67,column:19}}}))?s:"")+"\t\t\t\t</ul>\n\t\t\t</div>\n\n"+(null!=(s=m(n,"if").call(i,null!=l?m(l,"showCompany"):l,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.program(10,a,0),data:a,loc:{start:{line:71,column:3},end:{line:87,column:10}}}))?s:"")+'\n\t\t\t<div class="foot-social">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook">\n\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter">\n\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram">\n\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="foot-container mobile-layout">\n\t\t<div class="foot-top-row">\n\t\t\t<ul class="foot-top-nav foot-nav-ul">\n\t\t\t\t<li class="foot-li"><a href="/about">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:a,loc:{start:{line:107,column:41},end:{line:107,column:80}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/jobs">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:a,loc:{start:{line:108,column:40},end:{line:108,column:78}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a target="_blank" href="//blog.flickr.net/en">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:a,loc:{start:{line:109,column:71},end:{line:109,column:109}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a target="_blank" href="https://www.flickrads.com?utm_source=flickr&utm_campaign=footer">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.ADVERTISE"},data:a,loc:{start:{line:110,column:114},end:{line:110,column:157}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/services/developer">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:a,loc:{start:{line:111,column:54},end:{line:111,column:98}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/guidelines">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:a,loc:{start:{line:112,column:51},end:{line:112,column:95}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-report-item"><a href="/abuse">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.REPORT_ABUSE"},data:a,loc:{start:{line:113,column:60},end:{line:113,column:106}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-privacy-item"><a href="/help/privacy">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:114,column:68},end:{line:114,column:109}}}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-terms-item"><a href="/help/terms">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:115,column:64},end:{line:115,column:103}}}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/forum">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:a,loc:{start:{line:116,column:46},end:{line:116,column:90}}}))+'</a></li>\n\t\t\t\t<li class="foot-li lang-switcher">\n\t\t\t\t\t<a href="/change_language.gne?lang='+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"code"):s,l))+"&csrf="+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"csrf"):s,l))+'">'+c(r(null!=(s=null!=l?m(l,"selectedLang"):l)?m(s,"name"):s,l))+'</a>\n\t\t\t\t\t<span class="arrow"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="foot-bottom-row">\n\t\t\t<div class="foot-row-content">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li class="foot-li"><a href="/help/privacy">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:a,loc:{start:{line:126,column:49},end:{line:126,column:90}}}))+'</a></li>\n\t\t\t\t\t<li class="foot-li"><a href="/help/terms">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:a,loc:{start:{line:127,column:47},end:{line:127,column:86}}}))+"</a></li>\n"+(null!=(s=(m(n,"isFlipped")||l&&m(l,"isFlipped")||o).call(i,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:128,column:5},end:{line:130,column:19}}}))?s:"")+'\t\t\t\t\t<li class="foot-li footer-help-item"><a target="_blank" href="//flickrhelp.com">'+c((m(n,"intlMessage")||l&&m(l,"intlMessage")||o).call(i,{name:"intlMessage",hash:{intlName:"common.HELP"},data:a,loc:{start:{line:131,column:85},end:{line:131,column:123}}}))+"</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n"+(null!=(s=m(n,"if").call(i,null!=l?m(l,"showCompany"):l,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.program(10,a,0),data:a,loc:{start:{line:135,column:3},end:{line:151,column:10}}}))?s:"")+'\n\t\t\t<div class="foot-social">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook">\n\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter">\n\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram">\n\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</footer>\n'},useData:!0}),e={};t.Array.each([],(function(l){var n=t.Template.get("hermes/"+l);n&&(e[l]=n)})),t.Template.register("hermes/footer-full",(function(l,a){return(a=a||{}).partials=a.partials?t.merge(e,a.partials):e,n(l,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("report-abuse-helper",(function(e,o){require("hermes-core/flog")(o);e.ReportAbuseHelper={showReportModal:function(o){var t,n,i=e.mix({langBundles:["common","welcome"],appContext:o},e.Localizable),l=["group-home-route","group-discussions-list-route","group-pool-route","group-members-route","group-discussion-route"].includes(o.routeConfig.module),r=["photostream-route","photo-route","profile-route","albums-list-route","favorites-route","galleries-route","groups-list-route"].includes(o.routeConfig.module),s=l?"https://flickrhelp.com/hc/en-us/requests/new":"https://flickrhelp.com/hc/en-us/articles/4404057906068-How-to-report-Community-Guidelines-violations";r?(t=new e.Views.FlagModal({appContext:o,contentUrl:e.url(o.flapp.getPath())}),n=new e.Views.FluidModal({appContext:o,subview:t,hasSubviewConfigRefactor:!0})):n=new e.Views.FluidModal({appContext:o,subview:new e.Views["confirmation-dialog-view"]({appContext:o,title:i.intlMessage({intlName:"common.REPORT_ABUSE"}),confirmButtonText:i.intlMessage({intlName:l?"welcome.CONTINUE":"common.CONTINUE_ARTICLE"}),cancelButtonText:i.intlMessage({intlName:l?"common.CANCEL":"common.CLOSE"}),htmlMessage:i.intlHTMLMessage({intlName:l?"common.REPORT_GROUP":"common.REPORT_NOT_SUPPORTED",helpUrl:s}),onConfirm:async(o,t)=>{e.config.win.location.href=s}}),hasSubviewConfigRefactor:!0}),n.show()}}}),"@VERSION@",{requires:["event-custom","url"],optionalRequires:["hermes-core"],langBundles:["common","welcome"]});