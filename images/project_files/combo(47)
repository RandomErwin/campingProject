YUI.add("basic-confirm-actions-view",(function(t,e){let i=require("hermes-core/flog")(e);t.FlickrView.create(this.name,t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return this.set("isActiveViewAgnostic",!0),t.showConfirmButton=void 0===t.showConfirmButton||t.showConfirmButton,t.showCancelButton=void 0===t.showCancelButton||t.showCancelButton,t.confirmButtonText=void 0!==t.confirmButtonText?t.confirmButtonText:this.intlMessage({intlName:"common.OK"}),t.cancelButtonText=void 0!==t.cancelButtonText?t.cancelButtonText:this.intlMessage({intlName:"common.CANCEL"}),t.initialButtonState=Object.assign({confirm:"",cancel:""},t.initialButtonState),t.message=void 0!==t.message?t.message:"",t.showMessage=void 0!==t.showMessage&&t.showMessage,t.messageIsError=void 0===t.messageIsError||t.messageIsError,t.messageIsClickable=void 0!==t.messageIsClickable&&t.messageIsClickable,t.confirmButtonType=void 0!==t.confirmButtonType?t.confirmButtonType:void 0,t.confirmButtonIsDangerous=void 0!==t.confirmButtonIsDangerous&&t.confirmButtonIsDangerous,t.isPadded=void 0===t.isPadded||t.isPadded,this.onConfirm=void 0!==t.onConfirm?t.onConfirm:async(t,e)=>{},this.onCancel=void 0!==t.onCancel?t.onCancel:async(t,e)=>{},t.messageIsClickable&&(this.onMessageClick=void 0!==t.onMessageClick?t.onMessageClick:async(t,e)=>{}),this.params=t,this},loadState:function(){return Promise.resolve()},buildContainer:function(){return this.setContainerWithTemplate("basic-confirm-actions",this.params),this},activate:function(){let t=this.get("container");if(this.cancelButton=t.one("button.cancel"),this.confirmButton=t.one("button.confirm"),this.messageNode=t.one(".message"),this.setButtonState(this.params.initialButtonState),this.cancelButton&&this.registerEventHandler(this.cancelButton.on("click",(t=>{this.onCancel(t)}))),this.confirmButton)if("submit"===this.params.confirmButtonType){let t=this.confirmButton.ancestor("form",!0);t?this.registerEventHandler(t.on("submit",(t=>{this.onConfirm(t,this)}))):i.error('Using confirmButtonType: "submit", But no parent form is present. Either remove this config option, or wrap this view in a form.')}else this.registerEventHandler(this.confirmButton.on("click",(t=>{this.onConfirm(t,this)})));this.messageNode&&this.params.messageIsClickable&&this.registerEventHandler(this.messageNode.on("click",(t=>{t.preventDefault(),this.onMessageClick(t)})))},setMessageState:function({isShown:t,isError:e,message:i}={}){void 0!==t&&this.messageNode.toggleClass("shown",t),void 0!==e&&this.messageNode.toggleClass("error",e),void 0!==i&&this.messageNode.set("text",i)},setButtonState:function({confirm:t,cancel:e}={}){void 0!==t&&this.confirmButton&&(this.confirmButton.toggleClass("loading",!1),this.confirmButton.removeAttribute("disabled"),"loading"===t?(this.confirmButton.toggleClass("loading",!0),this.confirmButton.setAttribute("disabled")):"disabled"===t&&this.confirmButton.setAttribute("disabled")),void 0!==e&&this.cancelButton&&(this.cancelButton.toggleClass("loading",!1),this.cancelButton.removeAttribute("disabled"),"loading"===e?(this.cancelButton.toggleClass("loading",!0),this.cancelButton.setAttribute("disabled")):"disabled"===e&&this.cancelButton.setAttribute("disabled"))},resetButtonState:function(){this.setButtonState({confirm:"",cancel:""})}})}),"@VERSION@",{requires:["flickr-view","hermes-template-basic-confirm-actions"],langBundles:["common"]});YUI.add("user-limits-helper",(function(i){var t=i.config.flickr.account.photo_limit,e=i.config.flickr.account.near_photo_limit;i.UserLimitsHelper={isNearUploadLimit:function(i,o){return o.getViewer().signedIn&&!o.getViewer().isPro&&i.getValue("photoCount")>=e&&i.getValue("photoCount")<t},isAtUploadLimit:function(i,e){return e.getViewer().signedIn&&!e.getViewer().isPro&&i.getValue("photoCount")===t},isOverUploadLimit:function(i,e){return e.getViewer().signedIn&&!e.getViewer().isPro&&i.getValue("photoCount")>t},isOverARRLimit:function(i,e){return e.getViewer().signedIn&&!e.getViewer().isPro&&this.getARRCount(i)>t},hasReachedNearUploadLimit:function(i,t){return this.isNearUploadLimit(i,t)||this.isAtUploadLimit(i,t)||this.isOverUploadLimit(i,t)},hasReachedUploadLimit:function(i,t){return this.isAtUploadLimit(i,t)||this.isOverUploadLimit(i,t)},remainingAvailableUploads:function(i,t){return t.getValue("uploadLimit")-i.getValue("photoCount")},getARRCount:function(i){var t=i.getValue("arrPhotoCount");return t>=0?t:i.getValue("photoCount")}}}),"@VERSION@",{requires:[]});YUI.add("photo-selector-view",(function(t,e){var o,i=require("hermes-core/flog")(e),s=150;o={horizontal:20,vertical:20},t.FlickrView.create(this.name,t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return""===this.get("container").getHTML()&&this.setContainerWithTemplate("flickr-balls"),this.photoListView,this.searchPhotoListViews=[],this.publicOnlyGroups=t.publicOnlyGroups,this.publicOnlyPhotos=t.publicOnlyPhotos,this.safeOnlyPhotos=t.safeOnlyPhotos||!1,this.enableMultiSelect=t.enableMultiSelect||!1,this.multiSelectLimit=void 0===t.multiSelectLimit?1:t.multiSelectLimit,this.preSelectedPhotos=t.preSelectedPhotos||[],this.clearRegistriesOnDestroy=t.clearRegistriesOnDestroy||!1,this.navBarConfig=t.navBarConfig,this.initialButtonState=t.initialButtonState||{confirm:""},this.actionMessageConfig=t.actionMessageConfig||{message:"",messageIsError:!1},this.onConfirm=t.onConfirm||(t=>{}),this.selectedModels=[],t.enableVideos&&this.set("itemFilterFunction",!1),this.isUploading=!1,this.navBarConfig&&(this.subviewConfig["fluid-modal-nav-bar-view"]=Object.assign(this.subviewConfig["fluid-modal-nav-bar-view"],this.navBarConfig)),this.subviewConfig["basic-confirm-actions-view"]=Object.assign(this.subviewConfig["basic-confirm-actions-view"],{confirmButtonText:t.actionButtonLabel||this.intlMessage({intlName:"common.SELECT"}),showCancelButton:!1,initialButtonState:this.initialButtonState,message:this.actionMessageConfig.message,messageIsError:this.actionMessageConfig.messageIsError,showMessage:this.actionMessageConfig.showMessage,onConfirm:(t,e)=>{this.onConfirm(t)}}),this},subviewConfig:{"fluid-modal-nav-bar-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1},"basic-confirm-actions-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1}},loadState:function(){var e=this.appContext.getViewer().nsid,o={};return this.safeOnlyPhotos&&(e+="-safe",o.safeSearch="true"),this.publicOnlyPhotos&&(e+="-public",o.viewAs="public"),this.appContext.getModelRegistry("profile-selected-photos-models").then(function(i){i.removeAll();var s={selectionModel:this.appContext.getModel("profile-selected-photos-models",this.appContext.getViewer().nsid),photostreamModel:this.appContext.getModel("photostream-models",e,o),setModelRegistry:this.appContext.getModelRegistry("set-models"),setsModel:this.appContext.getModel("sets-models",this.appContext.getViewer().nsid,{page:1,perPage:25}),profileModel:this.appContext.getModel("person-profile-models",this.appContext.getViewer().nsid)};return new t.FlickrPromise(s).then(this.onLoadStateResolved.bind(this))}.bind(this))},onLoadStateResolved:function(e){if(this.set("selectionModel",e.selectionModel),this.set("photostreamModel",e.photostreamModel),this.set("setsModel",e.setsModel),this.set("setModelRegistry",e.setModelRegistry),this.set("profileModel",e.profileModel),this.canUpload=this.get("hasUploadCapabilities")&&!t.UserLimitsHelper.hasReachedUploadLimit(this.get("profileModel"),this.appContext),this.preSelectedPhotos&&this.preSelectedPhotos.length>0&&this.get("selectionModel").setValue("photos",this.preSelectedPhotos?this.preSelectedPhotos:[]),0===this.get("photostreamModel").getValue("totalItems")?this.set("photostreamEmpty",!0):this.set("photostreamEmpty",!1),this.get("groupId"))return this.appContext.getModel("group-pool-models",this.get("groupId")).then(function(t){this.set("groupModel",t)}.bind(this),(function(t){i.error("error loading group model",{err:t})}))},moveElementToFirstInArray:function(t,e,o){var i;return t.forEach((function(t,s){t[o]===e&&(i=s)})),t.unshift(t.splice(i,1)[0]),t},buildContainer:function(){return this.setContainerWithTemplate("photo-selector",{hasUploadCapabilities:this.get("hasUploadCapabilities"),canUpload:this.canUpload,searchable:this.get("searchable"),publicOnlyPhotos:this.get("publicOnlyPhotos"),photostreamEmpty:this.get("photostreamEmpty"),hasGroupCapabilities:this.get("groupId")}),this},loadPhotoList:function(e,a){var r,n=this,l=this.get("container"),h=l.one(".photo-selector-photos-wrapper");this.photoListView&&this.photoListView.destroy(),a||(a=!1),r={modelParams:e,fetchParams:e.fetchParams,parentName:this.name,hasMultiSelect:this.enableMultiSelect,multiSelectLimit:this.multiSelectLimit,paginateOnScroll:!0,parentContainer:h,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName"),galleryId:this.get("galleryId"),type:this.get("defaultSelected").type},this.get("itemFilterFunction")&&(r.itemFilterFunction=this.get("itemFilterFunction")),r.layout={targetRowHeight:s,containerWidth:r.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:h.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=r,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:r,isActiveViewAgnostic:!0,container:l.one(".photo-selector-photos-container")}).then((function(e){return e.initialize().then((function(e){var o,i=l.one(".photo-selector-photos-container"),s=i.one(".photo-list-view"),r=l.one(".loader");h.getDOMNode().scrollTop=0,n.photoListView=e,r&&r.addClass("loaded"),s.hasChildNodes()||(o=a?t.Node.create('<p class="no-results">'+n.intlMessage({intlName:"search.NO_MATCHES_FOR_QUERY_TERM_YOUR"})+"</p>"):n.publicOnlyPhotos?t.Node.create('<p class="no-results">'+n.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS"})+"</p>"):t.Node.create('<p class="no-results">'+n.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PHOTOS"})+"</p>"),s.empty(),i.prepend(o)),n.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},loadSelectionPhotoList:function(){var e,a=this,r=this.get("container"),n=r.one(".photo-selector-photos-wrapper");this.photoListView&&this.photoListView.destroy(),(e={parentName:this.name,hasMultiSelect:this.enableMultiSelect,multiSelectLimit:this.multiSelectLimit,paginateOnScroll:!0,initialItems:this.get("selectionModel").getValue("photos").getList(),parentContainer:n,relayoutOnResize:!0,interactionViewName:"photo-selector-selection-interaction-view"}).layout={targetRowHeight:s,containerWidth:e.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!0,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:n.get("offsetHeight")},this.get("itemFilterFunction")&&(e.itemFilterFunction=this.get("itemFilterFunction")),this.appContext.params.primaryPhotoListConfig=e,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:e,isActiveViewAgnostic:!0,nsid:this.appContext.getViewer().nsid,container:r.one(".photo-selector-photos-container")}).then((function(e){return e.initialize().then((function(e){var o,i=r.one(".photo-selector-photos-container"),s=i.one(".photo-list-view"),l=r.one(".loader");i.addClass("photo-selector-selection-photolist"),n.getDOMNode().scrollTop=0,a.photoListView=e,l&&l.addClass("loaded"),s.hasChildNodes()||(o=t.Node.create('<p class="no-results">'+a.intlMessage({intlName:"profile.NO_PHOTOS_SELECTED"})+"</p>"),s.empty(),i.prepend(o))}))}),(function(t){i.error("Error getting view",{err:t})}))},loadGroupPhotoList:function(e){var a,r=this,n=this.get("container"),l=n.one(".group-photo-selector-photos-wrapper");this.photoListView&&this.photoListView.destroy(),a={modelParams:e,parentName:this.name,paginateOnScroll:!0,parentContainer:l,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName")},this.get("itemFilterFunction")&&(a.itemFilterFunction=this.get("itemFilterFunction")),a.layout={targetRowHeight:s,containerWidth:a.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:l.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=a,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:a,isActiveViewAgnostic:!0,container:l}).then((function(e){return e.initialize().then((function(e){var o,i=n.one(".group-photo-selector-photos-container"),s=i.one(".photo-list-view");l.getDOMNode().scrollTop=0,r.photoListView=e,n.one(".loader").addClass("loaded"),s.hasChildNodes()||(o=t.Node.create('<p class="no-results">'+r.intlMessage({intlName:"groups.GROUP_POOL_CONTAINS_NO_PUBLIC_PHOTOS"})+"</p>"),s.empty(),i.prepend(o)),r.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},loadSetsPhotoList:function(t){var e,s=this,a=this.get("container");this.photoListView&&this.photoListView.destroy(),(e={modelParams:t,parentName:this.name,paginateOnScroll:!0,parentContainer:a.one(".photo-selector-photos-wrapper"),relayoutOnResize:!0,interactionViewName:this.get("setsInteractionViewName"),engagementModelName:"set-models",viewBeaconRestrictedAttribute:"primaryNeedsInterstitial"}).layout={targetRowHeight:200,containerWidth:e.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:a.one(".photo-selector-photos-wrapper").get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=e,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:e,isActiveViewAgnostic:!0,container:a.one(".photo-selector-photos-container")}).then((function(t){return t.initialize().then((function(t){var e=a.one(".loader");a.one(".photo-selector-photos-container .photo-list-view");a.one(".photo-selector-photos-wrapper").getDOMNode().scrollTop=0,s.photoListView=t,e&&a.one(".loader").addClass("loaded"),s.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},loadSearchPhotoList:function(t){var e,a=this,r=this.get("container"),n=t.photoListContainerSelector?r.one(t.photoListContainerSelector):r.one(".photo-selector-photos-container"),l=t.parentContainerSelector?r.one(t.parentContainerSelector):r.one(".photo-selector-photos-wrapper"),h=t.maxNumRows?this.get("limitedRowsPhotoListViewName"):this.get("photoListViewName");this.searchPhotoListViews&&this.searchPhotoListViews[t.listId]&&this.searchPhotoListViews[t.listId].destroy(),e={modelParams:t.modelParams,parentName:this.name,paginateOnScroll:!0,parentContainer:l,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName"),engagementModelName:"photo-lite-models"},this.get("itemFilterFunction")&&(e.itemFilterFunction=this.get("itemFilterFunction")),e.layout={targetRowHeight:s,containerWidth:e.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:0,bottom:10,left:0},itemSpacing:o,forceAspectRatio:1,maxNumRows:t.maxNumRows?t.maxNumRows:Number.POSITIVE_INFINITY,alwaysDisplayOrphans:!!t.alwaysDisplayOrphans&&t.alwaysDisplayOrphans,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:l.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=e,this.appContext.getView(h,{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:e,isActiveViewAgnostic:!0,container:n,searchUrl:t.searchUrl,listId:t.listId}).then((function(e){return e.initialize().then((function(e){a.registerEventHandler(e.on("subviewViewEvent",a.handleSubviewEvent,a)),r.one(".photo-selector-search-lists-wrapper").getDOMNode().scrollTop=0,t.parentContainerSelector&&(r.one(t.parentContainerSelector).getDOMNode().scrollTop=0),a.searchPhotoListViews[t.listId]=e,r.one(".loader").addClass("loaded"),a.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},activate:function(){var e,o=this.get("container"),i=this.get("defaultSelected");return this.subviews["fluid-modal-nav-bar-view"]&&(this.navBarView=this.subviews["fluid-modal-nav-bar-view"],this.navBarView.on("search",(t=>{this.handleSearch(t)})),this.navBarView.on("navigation",(t=>{this.handleNavigation(t)}))),this.confirmView=this.subviews["basic-confirm-actions-view"],this.registerEventHandler(o.on("click",this.handleClick,this)),this.canUpload&&this.registerEventHandler(o.one(".file-select").on("change",this.handleFileSelect,this)),this.registerEventHandler(t.on("photoSelector:subviewEvent",this.handleSubviewEvent,this)),i?"group"===i.type?(e={registryName:"group-pool-models",modelIdOrAttributes:this.get("groupId")+"-public",collectionAttributeName:"photoPageList"},this.publicOnlyGroups&&(e.fetchParams={privacyFilter:1},e.modelIdOrAttributes+="-public"),this.toggleGroupSelector(),this.loadGroupPhotoList(e),this.toggleTitleBar(i.title,"group")):"gallery"===i.type?(e={registryName:"gallery-info-models",modelIdOrAttributes:i.id,collectionAttributeName:"photoList"},this.loadPhotoList(e)):"galleryFaves"===i.type?(e={registryName:"gallery-faves-models",modelIdOrAttributes:this.get("defaultSelected").id,collectionAttributeName:"photoList",fetchParams:{galleryId:this.get("galleryId")}},this.loadPhotoList(e)):(e={registryName:"set-models",modelIdOrAttributes:i.id,collectionAttributeName:"photoPageList",fetchParams:{}},this.publicOnlyPhotos&&(e.modelIdOrAttributes+="-public",e.fetchParams.filter=1),this.safeOnlyPhotos&&(e.modelIdOrAttributes+="-safe",e.fetchParams.moderationFilter=1),this.loadPhotoList(e),this.toggleTitleBar(i.title,"set")):0===this.get("photostreamModel").getValue("totalItems")?this.get("hasUploadCapabilities")?(this.toggleUploader(),this.hideTitleBar()):this.toggleTitleBar(this.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS"},"empty",!1)):(e={registryName:"photostream-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"photoPageList",fetchParams:{}},this.safeOnlyPhotos&&(e.modelIdOrAttributes+="-safe",e.fetchParams.safeSearch="true"),this.publicOnlyPhotos&&(e.modelIdOrAttributes+="-public",e.fetchParams.viewAs="public"),this.loadPhotoList(e,!1)),this},toggleUploader:function(){this.get("hasUploadCapabilities")&&(this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("container").one(".photo-selector-photos-container").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-upload").removeClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding"))},toggleSelector:function(){this.get("hasUploadCapabilities")&&this.get("container").one(".photo-selector-upload").addClass("is-hiding"),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").removeClass("is-hiding")},toggleSearchListsSelector:function(){this.get("hasUploadCapabilities")&&this.get("container").one(".photo-selector-upload").addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("container").one(".photo-selector-photos-container").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").removeClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding")},toggleGroupSelector:function(){var t=this.get("container").one(".photo-selector-upload");t&&t.addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").removeClass("is-hiding")},toggleTitleBar:function(e,o,i){var s=this.get("container"),a=s.one(".photo-selector-title-bar"),r=a.one(".back-to-list"),n="";void 0===i&&(i=!0),"search"===o&&e&&(e='"'+e+'"'),"set"===o?n=this.intlMessage({intlName:"common.PHOTO_SELECTOR_BACK_TO_ALBUM_LIST"}):"search"===o&&(n=this.intlMessage({intlName:"common.PHOTO_SELECTOR_BACK_TO_SEARCH_LIST"})),i?r.removeClass("hidden"):r.addClass("hidden"),r.one(".back-to-list-text").set("text",n),a.one(".title").set("text",t.Handlebars.helpers.truncate(e,80)),a.removeClass("hidden"),s.one(".photo-selector-photos-wrapper").addClass("showing-title"),s.one(".photo-selector-search-lists-wrapper").addClass("showing-title"),this.get("groupId")&&s.one(".group-photo-selector-photos-wrapper").addClass("showing-title")},hideTitleBar:function(){var t=this.get("container");t.one(".photo-selector-title-bar").addClass("hidden"),t.one(".photo-selector-photos-wrapper").removeClass("showing-title"),this.get("groupId")&&t.one(".group-photo-selector-photos-wrapper").removeClass("showing-title")},handleNavigation:function(e){var o,i=e.details[0].target.getData("value"),s=this.get("container").one(".no-results");if("upload"===i)this.get("hasUploadCapabilities")&&(this.toggleUploader(),this.hideTitleBar()),this.get("fileDragDrop")?this.get("fileDragDrop").reset():this.canUpload&&(this.set("fileDragDrop",new t.HtmlFileDragDrop({dropZone:".photo-selector-upload > .drop-zone"})),this.get("fileDragDrop").on("drop",this.handleFileDrop,this));else{if(this.get("hasUploadCapabilities")&&this.toggleSelector(),"group"===i)o={registryName:"group-pool-models",modelIdOrAttributes:this.get("groupId"),collectionAttributeName:"photoPageList"},this.publicOnlyGroups&&(o.fetchParams={privacyFilter:1},o.modelIdOrAttributes+="-public"),this.toggleGroupSelector(),this.loadGroupPhotoList(o);else if("photostream"===i){if(0===this.get("photostreamModel").getValue("totalItems"))return s&&s.remove(),void(this.get("hasUploadCapabilities")?(this.toggleUploader(),this.hideTitleBar()):this.toggleTitleBar(this.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS"},"empty",!1)));o={registryName:"photostream-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"photoPageList",fetchParams:{}},this.safeOnlyPhotos&&(o.modelIdOrAttributes+="-safe",o.fetchParams.safeSearch="true"),this.publicOnlyPhotos&&(o.modelIdOrAttributes+="-public",o.fetchParams.viewAs="public"),this.loadPhotoList(o)}else if("sets"===i){if(0===this.get("setsModel").getValue("totalItems")){var a=this.get("container").one(".photo-list-view");return s&&s.remove(),this.toggleTitleBar(this.intlMessage({intlName:"common.PHOTO_SELECTOR_NO_ALBUMS"},"empty",!1)),void a.empty()}o={registryName:"sets-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"albumsList"},this.loadSetsPhotoList(o)}else"gallery"===i?(o={registryName:"gallery-info-models",modelIdOrAttributes:this.get("galleryId"),collectionAttributeName:"photoList"},this.loadPhotoList(o)):"galleryFaves"===i?(o={registryName:"gallery-faves-models",modelIdOrAttributes:this.get("defaultSelected").id,collectionAttributeName:"photoList",fetchParams:{galleryId:this.get("galleryId")}},this.loadPhotoList(o)):this.loadSelectionPhotoList();this.hideTitleBar()}},handleSearch:function(e){var o,i,s=e.details[0],a={},r=this.get("searchable");if(i=new t.SearchUrl(s.apiParams,this.appContext),this.toggleSearchListsSelector(),r.yours){if(this.searchUrlYourPhotos=new t.SearchUrl(s.apiParams,this.appContext),s.contextSearch)if("group"===s.contextSearch)this.searchUrlYourPhotos.setAPIParam("group_id",this.get("groupId"));else this.searchUrlYourPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid);else this.searchUrlYourPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid);r.contacts||r.everyone?(a.listId="yours",a.photoListContainerSelector=".photo-selector-search-list-yours .photo-selector-search-list-container",a.parentContainerSelector=".photo-selector-search-list-yours",a.maxNumRows=1,a.alwaysDisplayOrphans=!0,a.searchUrl=this.searchUrlYourPhotos,a.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlYourPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlYourPhotos.getAPIParams()}},this.publicOnlyPhotos&&(o.fetchParams.privacyFilter=1),this.loadSearchPhotoList(a)):(this.toggleSelector(),o={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlYourPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlYourPhotos.getAPIParams(),additionalExtras:["o_dims"]}},this.publicOnlyPhotos&&(o.fetchParams.privacyFilter=1),this.loadPhotoList(o,!0))}r.contacts&&(this.searchUrlContactsPhotos=new t.SearchUrl(s.apiParams,this.appContext),this.searchUrlContactsPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid),this.searchUrlContactsPhotos.setAPIParam("contacts","all"),a.listId="contacts",a.photoListContainerSelector=".photo-selector-search-list-contacts .photo-selector-search-list-container",a.parentContainerSelector=".photo-selector-search-list-contacts",a.maxNumRows=1,a.alwaysDisplayOrphans=!0,a.searchUrl=this.searchUrlContactsPhotos,a.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlContactsPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlContactsPhotos.getAPIParams()}},this.loadSearchPhotoList(a)),r.everyone&&(this.searchUrlEveryonePhotos=new t.SearchUrl(s.apiParams,this.appContext),a.listId="everyone",a.photoListContainerSelector=".photo-selector-search-list-everyone .photo-selector-search-list-container",a.parentContainerSelector=".photo-selector-search-list-everyone",a.maxNumRows=1,a.alwaysDisplayOrphans=!0,a.searchUrl=this.searchUrlEveryonePhotos,a.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:s.id,collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlEveryonePhotos.getAPIParams()}},this.loadSearchPhotoList(a)),this.toggleTitleBar(i.getAPIParams().text,"search",!1)},handleSubviewEvent:function(e){var o,i,s;return"selectPhotoFromPhotoList"===e.eventName?(o={photoModel:this.appContext.getModel("photo-models",e.id)},new t.FlickrPromise(o).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),this.enableMultiSelect&&this.hasReachMultiSelectLimit()||this.addPhotoToSelection(t.photoModel.id,t.photoModel)}.bind(this))):"unselectPhotoFromPhotoList"===e.eventName?(o={photoModel:this.appContext.getModel("photo-models",e.id)},new t.FlickrPromise(o).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),this.removePhotoFromSelection(t.photoModel.id,t.photoModel)}.bind(this))):"selection:remove"===e.eventName?(o={photoModel:this.appContext.getModel("photo-models",e.model.getValue("id"))},new t.FlickrPromise(o).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),this.removePhotoFromSelection(t.photoModel.id,t.photoModel,!0)}.bind(this))):void("selectSetFromPhotoList"===e.eventName?(i={registryName:"set-models",modelIdOrAttributes:e.id,collectionAttributeName:"photoPageList",fetchParams:{}},this.publicOnlyPhotos&&(i.modelIdOrAttributes+="-public",i.fetchParams.filter=1),this.safeOnlyPhotos&&(i.modelIdOrAttributes+="-safe",i.fetchParams.moderationFilter=1),this.loadPhotoList(i,!1),this.toggleTitleBar(e.title,"set")):e.details&&"viewEntireSearchList"===e.details[0]&&(i={registryName:"search-photos-lite-models",modelIdOrAttributes:e.details[1].searchUrl.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:e.details[1].searchUrl.getAPIParams()}},this.publicOnlyPhotos&&(i.fetchParams.privacyFilter=1),this.toggleSelector(),this.loadPhotoList(i),s="search.YOUR_PHOTOS","contacts"===e.details[1].list?s="search.FROM_YOUR_CONTACTS":"everyone"===e.details[1].list&&(s="search.EVERYONES_PHOTOS"),s=this.intlMessage({intlName:s}),this.toggleTitleBar(s+": "+e.details[1].searchUrl.getAPIParams().text,"search")))},handleClick:function(t){var e=t.target;this.isUploading||(e.ancestor(".back-to-list",!0)?this.navBarView.get("currentSelection")?this.navBarView.reselectTab():this.navBarView.get("searchData")&&this.navBarView.redoSearch():e.ancestor(".simulate-file-select",!0)&&(t.halt(),this.get("container").one(".file-select").set("value",""),this.get("container").one(".file-select").getDOMNode().click()))},handleSelectPhoto:function(e){var o;if(o={photoModel:this.appContext.getModel("photo-models",e.getData("photo-id"))},!e.hasClass("invalid"))return this.set("photoSource",this.get("photoSourceOwnImage")),new t.FlickrPromise(o).then(function(t){this.addPhotoToSelection(t.photoModel.id,t.photoModel)}.bind(this))},hasReachMultiSelectLimit:function(){return this.get("selectionModel").getValue("photos").size()===this.multiSelectLimit},addPhotoToSelection:function(e,o){if(null===e)this.set("selected",null),t.fire("photoSelector:unselected");else if(e&&this.enableMultiSelect){var i=this.get("selectionModel").getValue("photos");this.hasReachMultiSelectLimit()||i.find(o)||(i.push(o),t.fire("photoSelector:selected",{hasWarning:!1,photoId:e}),this.updateSelectCountText(i.size()))}else e&&(this.set("selected",e),t.fire("photoSelector:selected",{hasWarning:!1,photoId:e}))},updateSelectCountText:function(e){var o=this.multiSelectLimit-e;t.fire("photoSelector:updateCount",{count:o})},removePhotoFromSelection:function(e,o,i){var s=this.get("selectionModel").getValue("photos");s.find(o)&&(s.removeFromList(e)&&(t.fire("photoSelector:unselected",{hasWarning:!1,photoId:e,wasLastPhotoSelected:0===s.size()}),this.updateSelectCountText(s.size()),i&&this.loadSelectionPhotoList()))},handlePhotoSetSelector:function(t){var e;this.get("hasUploadCapabilities")&&this.toggleSelector(),e={registryName:"set-models",modelIdOrAttributes:this.publicOnlyPhotos?t+"-public":t,collectionAttributeName:"photoPageList"},this.publicOnlyPhotos&&(e.fetchParams={filter:1}),this.loadPhotoList(e)},handlePhotoUploaded:function(t){this.appContext.getModelRegistry("photostream-models").then(function(e){e.attributeSearch({normalizedId:this.appContext.getViewer().nsid},!0).forEach((function(t){e.remove(t)})),this.addPhotoToSelection(t.id,t),this.onConfirm(),this.resetUploader()}.bind(this),function(t){this.appContext.err(t)}.bind(this))},handleFileSelect:function(t){var e;(e=t.target.getDOMNode().files[0])&&e.name&&this.uploadFile(e)},pollTicket:function(e){if(this.uploadTimer){if(t.moment().diff(this.uploadTimer,"seconds")>this.get("maxUploadTimeAllowed"))return this.showUploadError("GENERIC")}else this.uploadTimer=t.moment();this.appContext.callAPI("flickr.photos.upload.checkTickets",{tickets:e}).then(function(t){var o;t&&t.stat&&("ok"!==t.stat&&this.showUploadError("GENERIC"),t.uploader&&t.uploader.ticket instanceof Array&&(o=t.uploader.ticket[0])&&o.id===e&&(1===o.complete?this.appContext.getModel("photo-models",o.photoid).then(this.handlePhotoUploaded.bind(this),(function(t){this.showUploadError("GENERIC")})):2===o.complete?this.showUploadError("FILE_TYPE"):setTimeout(function(){this.pollTicket(e)}.bind(this),1e3)))}.bind(this),function(t){this.showUploadError("GENERIC")}.bind(this))},resetUploader:function(){this.clearUploadError(),this.get("container").one(".drop-zone").removeClass("uploading"),this.get("container").removeClass("uploading"),this.isUploading=!1,this.uploadTimer=void 0},uploadFile:function(e){var o,s,a,r=new FormData,n=t.config.flickr.api.hostname_client_upload;this.clearUploadError(),this.get("container").one(".drop-zone").addClass("uploading"),this.get("container").addClass("uploading"),this.isUploading=!0,r.append("api_key",t.SiteKey.getKey()),r.append("csrf",t.config.flickr.csrf.token),r.append("photo",e,e.name),r.append("async","1"),r.append("is_public","0"),r.append("is_friend","0"),r.append("is_family","0"),r.append("content_type","1"),(o=this._imgFileXhr=new XMLHttpRequest).open("POST",n,!0),o.withCredentials=!0,s=function(t){var e="object"==typeof t?t.target.statusText:t+"";i.error("Error during upload",{statusText:e}),this.resetUploader(),this.showUploadError("GENERIC")},a=function(e){var o,i,a,r;try{i=(r=t.one(e.currentTarget.responseXML)).one("rsp").getAttribute("stat")}catch(t){i="",o=""}return"ok"!==i?s((i||"empty")+": "+(o||"no message")):(a=r.one("ticketid").get("text"),this.pollTicket(a))},o.addEventListener("load",a.bind(this)),o.addEventListener("error",s.bind(this)),o.send(r)},clearUploadError:function(){this.get("container").one(".upload-error").setHTML("")},showUploadError:function(t){this.resetUploader(),this.get("container").one(".upload-error").setHTML(this.intlMessage({intlName:this.get("errorMessages")[t]})),this.get("fileDragDrop").showError()},handleFileDrop:function(t){this.isUploading||(t instanceof Error?this.showUploadError(t.message):this.uploadFile(t))},destructor:function(){this.photoListView&&this.photoListView.destroy()}},{ATTRS:{maxUploadTimeAllowed:{readOnly:!0,value:20},errorMessages:{readOnly:!0,value:{GENERIC:"common.PHOTO_SELECTOR_ERROR_MESSAGE_GENERIC",FILE_TYPE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_TYPE",FILE_SIZE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_SIZE",FILE_COUNT:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_COUNT",LOW_QUALITY:"common.PHOTO_SELECTOR_ERROR_MESSAGE_LOW_QUALITY",COLOR_SPACE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_COLOR_SPACE"}},photoSourceOwnImage:{readOnly:!0,value:1},hasUploadCapabilities:{value:!0},photoListViewName:{value:"photo-selector-photolist-view"},limitedRowsPhotoListViewName:{value:"photo-selector-limited-rows-photolist-view"},searchable:{value:{yours:!0,contacts:!0,everyone:!0}},interactionViewName:{
value:"photo-selector-photolist-interaction-view"},setsInteractionViewName:{value:"photo-selector-sets-photolist-interaction-view"},itemFilterFunction:{value:function(t){return!t.getValue("isVideo")}},defaultSelected:{value:!1},selected:{},groupId:{},galleryId:{}}})}),"@VERSION@",{requires:["flickr-view","flickr-promise","flickr-api","html-file-dragdrop","hermes-template-photo-selector","photo-selector-photolist-view","photo-selector-limited-rows-photolist-view","photo-selector-photolist-interaction-view","photo-selector-sets-photolist-interaction-view","fluid-modal-nav-bar-view","basic-confirm-actions-view","user-limits-helper","site-key","moment"],optionalRequires:["hermes-core"],optional:["search-photos-lite-models"],langBundles:["common","wallart","search","groups","profile","upload-blocking"]});YUI.add("hermes-lang-profile_zh-hk",(function(e,a){e.Intl.add("hermes/profile","zh-HK",{MEMBER_DESCRIPTION:[{type:0,value:"描述"}],MEMBER_INFO:[{type:0,value:"會員資訊"}],EMPTY_DESCRIPTION:[{type:0,value:"簡單自我介紹"}],ABOUT_USERNAME:[{type:0,value:"關於"},{type:1,value:"username"}],MOST_POPULAR_PHOTOS:[{type:0,value:"最熱門相片"}],MOST_POPULAR_PHOTOS_EMPTY_TITLE:[{type:0,value:"這裡會顯示你最受歡迎的相片。"}],MOST_POPULAR_PHOTOS_EMPTY_TEXT:[{type:0,value:"將相片設為公開，即可獲取更多最愛評分、留言，以及讓更多人檢視。"}],MOST_POPULAR_PHOTOS_EMPTY_TEXT_2:[{type:0,value:"如果你希望有更多用戶看到此相片，可以將相片加到網上聯盟"}],HAS_NO_PUBLIC_PHOTOS_YET:[{type:1,value:"username"},{type:0,value:" 尚未有任何公開的相片。"}],MOST_POPULAR_PHOTOS_GO_TO_CR:[{type:0,value:"前往相機膠卷"}],TESTIMONIALS:[{type:0,value:"用家推薦"}],PHOTOS_OF:[{type:1,value:"username"},{type:0,value:" 的相片"}],READ_MORE:[{type:0,value:"閱讀更多"}],READ_LESS:[{type:0,value:"顯示較少"}],EDIT_DESCRIPTION:[{type:0,value:"編輯描述"}],EDIT_INFOS:[{type:0,value:"編輯個人檔案資料"}],EDIT_SHOWCASE:[{type:0,value:"編輯你的精選相片"}],CHANGE_SHOWCASE_PHOTOS:[{type:0,value:"變更你的精選相片"}],SHOWCASE_FULL:[{type:0,value:"你的精選相片已滿！更改相片"}],SHOWCASE_ALMOST_FULL:[{type:0,value:"仍有一張相片，好好選擇！"}],ADD_PHOTOS:[{type:0,value:"新增相片"}],VIEW_ALL:[{type:0,value:"全部相片"}],THIS_YOUR_SHOWCASE:[{type:0,value:"這是你的精選相片。"}],SHOW_OFF_YOUR_PHOTOS:[{type:0,value:"你最多可展示 "},{type:1,value:"limit"},{type:0,value:" 張相片。"}],GET_STARTED:[{type:0,value:"立即開始"}],CHOOSE_UP_TO_PHOTOS:[{type:6,value:"limit",options:{one:{value:[{type:0,value:"最多可額外選擇 "},{type:7},{type:0,value:" 張相片"}]},other:{value:[{type:0,value:"最多可額外選擇 "},{type:7},{type:0,value:" 張相片"}]}},offset:0,pluralType:"cardinal"}],SELECT_PHOTOS:[{type:0,value:"選擇相片"}],SHOWCASE_ALREADY_THERE:[{type:0,value:"你的展示專區已存有此相片。"}],SHOWCASE_ERR:[{type:0,value:"發生錯誤。請重新整理頁面。"}],BIO_JOINED:[{type:0,value:"已加入"}],BIO_OCCUPATION:[{type:0,value:"職業"}],BIO_HOMETOWN:[{type:0,value:"出生地"}],BIO_CURRENT_CITY:[{type:0,value:"目前所在城市"}],BIO_COUNTRY:[{type:0,value:"國家/地區"}],BIO_WEBSITE:[{type:0,value:"網站"}],BIO_EMAIL:[{type:0,value:"電郵"}],BIO_FACEBOOK:[{type:0,value:"Facebook"}],BIO_TWITTER:[{type:0,value:"Twitter"}],BIO_INSTAGRAM:[{type:0,value:"Instagram"}],BIO_PINTEREST:[{type:0,value:"Pinterest"}],BIO_TUMBLR:[{type:0,value:"Tumblr"}],BIO_RELATIONSHIP:[{type:0,value:"關係"}],COUNTS_GROUPS:[{type:6,value:"groupsCount",options:{one:{value:[{type:0,value:" 個群組"}]},other:{value:[{type:0,value:" 個群組"}]}},offset:0,pluralType:"cardinal"}],COUNTS_GEOTAGGED:[{type:6,value:"geoCount",options:{one:{value:[{type:0,value:" 張有地理標籤的相片"}]},other:{value:[{type:0,value:" 張有地理標籤的相片"}]}},offset:0,pluralType:"cardinal"}],COUNTS_GEOTAGS:[{type:6,value:"geoCount",options:{one:{value:[{type:0,value:"地理標籤"}]},other:{value:[{type:0,value:"地理標籤"}]}},offset:0,pluralType:"cardinal"}],COUNTS_FAVORITES:[{type:6,value:"favesCount",options:{one:{value:[{type:0,value:" 張最愛相片"}]},other:{value:[{type:0,value:" 張最愛相片"}]}},offset:0,pluralType:"cardinal"}],COUNTS_TAGS:[{type:6,value:"tagsCount",options:{one:{value:[{type:0,value:" 個標籤"}]},other:{value:[{type:0,value:" 個標籤"}]}},offset:0,pluralType:"cardinal"}],COUNT_VIEWS:[{type:6,value:"viewsCount",options:{one:{value:[{type:0,value:" 次瀏覽"}]},other:{value:[{type:0,value:" 次瀏覽"}]}},offset:0,pluralType:"cardinal"}],BLOCK_USER:[{type:0,value:"封鎖用戶"}],FILTER_FAVES:[{type:0,value:"最多人喜愛"}],FILTER_VIEWS:[{type:0,value:"最多人查看"}],FILTER_COMMENTS:[{type:0,value:"最多留言"}],FILTER_INTERESTING:[{type:0,value:"最有趣"}],AWESOME:[{type:0,value:"太好了！"}],REFRESH_NOW:[{type:0,value:"重新整理即可查看你的展示專區。"}],TOO_MANY_PHOTOS:[{type:0,value:"很抱歉，你無法在展示專區加入多過 "},{type:1,value:"limit"},{type:0,value:" 張相片。"}],PROFILE_SHARE_FEEDBACK:[{type:0,value:'只有 Alpha 群組成員可查看這個全新的 Flickr 個人檔案。請在<a href="'},{type:1,value:"url"},{type:0,value:'">這裡</a>分享你的意見。'}],PROFILE_SHARE_FEEDBACK_ONBOARDING:[{type:0,value:'個人檔案已換新裝。我們很像知道你的想法。<a href="'},{type:1,value:"url"},{type:0,value:'">歡迎傳送意見給我們！</a>'}],PROFILE_CHECK_OUT:[{type:0,value:'個人檔案已改頭換面：快來查看<a href="'},{type:1,value:"urlAbout"},{type:0,value:'">全新的「關於」頁面</a>！然後，<a href="'},{type:1,value:"urlFeedback"},{type:0,value:'" target="_blank">請提供你的意見</a>！'}],PROFILE_PHOTO_NOT_PUBLIC:[{type:0,value:"看來這張相片不便公開。"}],PROFILE_SAVED_MAGICALLY:[{type:0,value:"系統會自動儲存變更，很神奇吧！"}],PROFILE_SAVED_AUTO:[{type:0,value:"系統會自動儲存變更！"}],SAVING:[{type:0,value:"正在儲存"}],PLACEHOLDER_SOCIAL:[{type:0,value:"你的用戶名稱或個人檔案連結"}],EVERYONE:[{type:0,value:"所有人"}],ANY_FLICKR_MEMBER:[{type:0,value:"任何 Flickr 會員"}],PEOPLE_I_FOLLOW:[{type:0,value:"我追蹤的用戶"}],FRIENDS_AND_FAMILY:[{type:0,value:"朋友和家人"}],ONLY_ME:[{type:0,value:"只有我"}],USER_FOLLOWS_YOU:[{type:1,value:"username"},{type:0,value:" 正在追蹤你。"}],USER_IS_FAMILY:[{type:1,value:"username"},{type:0,value:" 將你列為「家人」。"}],USER_IS_FRIEND:[{type:1,value:"username"},{type:0,value:" 將你列為「朋友」。"}],USER_IS_FRIEND_FAMILY:[{type:1,value:"username"},{type:0,value:" 將你列為「朋友及家人」。"}],TESTIM_PENDING:[{type:0,value:"處理中"}],TESTIM_EMPTY_SELF:[{type:0,value:"尚未有人為你新增用家推薦。"}],TESTIM_EMPTY_SOMEONE:[{type:0,value:"尚未有人新增用家推薦。"}],TESTIM_EMPTY:[{type:0,value:"你想推薦 "},{type:1,value:"username"},{type:0,value:" 嗎？"}],TESTIM_WRITE:[{type:0,value:"撰寫用家推薦"}],TESTIM_POST:[{type:0,value:"發佈"}],TESTIM_SHOW_MORE:[{type:0,value:"檢視更多內容"}],TESTIM_APPROVE:[{type:0,value:"批准"}],TESTIM_REJECT:[{type:0,value:"拒絕"}],TESTIM_SENT_APPROVAL:[{type:0,value:"你的用家推薦將會傳送至 "},{type:1,value:"username"},{type:0,value:" 以待批准。"}],TESTIM_SENT_APPROVAL_SHOWN:[{type:1,value:"username"},{type:0,value:" 批准後，即會顯示你的用家推薦。"}],TESTIM_GREAT_TITLE:[{type:0,value:"很好！"}],TESTIM_DELETE_CONFIRM:[{type:0,value:"要刪除這篇文章嗎？"}],TESTIM_DELETE_TEXT:[{type:0,value:"這項動作無法復原。你確定要永久刪除此文章嗎？"}],TESTIM_EDIT_CONFIRM_TITLE:[{type:0,value:"要編輯此文章嗎？"}],TESTIM_EDIT_CONFIRM_TEXT:[{type:0,value:"如果你選擇編輯此文章，系統會將此文章傳送給你的文章對象審核。"}],TESTIM_EDIT_VISIT_PROFILE:[{type:0,value:"你可以在 "},{type:1,value:"username"},{type:0,value:" 的個人檔案上編輯此用家推薦。"}],TESTIM_EDIT_VISIT_PROFILE_TEXT:[{type:0,value:"如果你選擇編輯此文章，系統會將此文章傳送給 "},{type:1,value:"username"},{type:0,value:" 審核。"}],TESTIM_EDIT_VISIT_PROFILE_GO:[{type:0,value:"前往個人檔案"}],YOUR_SELECTION_HEADER:[{type:0,value:"你的選擇項目"}],NO_PHOTOS_SELECTED:[{type:0,value:"未選擇相片。"}],SELECTED:[{type:0,value:"已選擇"}],PROFILE_SHOWCASE_TITLE:[{type:0,value:"個人檔案精選相片"}],PROFILE_SHOWCASE_TITLE_SHORT:[{type:0,value:"精選相片"}],PROFILE_WHATS_NEW:[{type:0,value:"最新功能："}],PROFILE_BIO_TOOLTIP:[{type:0,value:"請更詳細自我介紹，以完成個人檔案設定。"}],PROFILE_POPULAR_TOOLTIP:[{type:0,value:"以下是 Flickr 上最熱門的相片。你可以選擇讓所有人看到此部分，或只有自己可查看。"}],PROFILE_PHOTOSOF_TOOLTIP:[{type:0,value:"你可以前往相片頁面的「相中人」部分，在相片中標記或取消標記自己。"}],PROFILE_PHOTOSOF_MODAL_TITLE:[{type:0,value:"要從此相片移除自己的標籤嗎？"}],PROFILE_CHECK_IT_OUT:[{type:0,value:"體驗一下"}],PROFILE_GOT_IT:[{type:0,value:"知道了，謝謝"}],TESTIM_FILTER_RECEIVED:[{type:0,value:"已接收的用家推薦"}],TESTIM_FILTER_GIVEN:[{type:0,value:"已提供的用家推薦"}],TESTIM_NOTHING_TO_SHOW:[{type:0,value:"沒有任何內容。"}],TESTIM_POSTED_ON:[{type:3,value:"intlDate",style:"long"}],TESTIM_AUTHOR_SAYS:[{type:0,value:'<a href="'},{type:1,value:"url"},{type:0,value:'" class="username">'},{type:1,value:"displayname"},{type:0,value:"</a> 說："}],TESTIM_AUTHOR_FOR:[{type:0,value:'致 <a href="'},{type:1,value:"url"},{type:0,value:'" class="username">'},{type:1,value:"displayname"},{type:0,value:"</a>："}],EDIT_PROFILE_INFO:[{type:0,value:"編輯個人檔案資訊"}],PROFILE_INFO:[{type:0,value:"個人檔案資訊"}],REAL_NAME:[{type:0,value:"真實姓名"}],FIRST_NAME:[{type:0,value:"名字"}],LAST_NAME:[{type:0,value:"姓氏"}],ADD_YOUR_NAME:[{type:0,value:"新增您的姓名"}],SCREEN_NAME:[{type:0,value:"暱稱"}],CHANGE_NAME:[{type:0,value:"更改姓名"}],PRO_BADGE:[{type:0,value:"Pro 徽章"}],INVALID_NAME:[{type:0,value:"無效的姓名"}],USERNAME_TAKEN:[{type:0,value:"您嘗試的使用者名稱已經被使用了，請改用別的名稱。"}],USERNAME_INVALID:[{type:0,value:"使用者名稱含有無效的字，請改用別的名稱。"}],USERNAME:[{type:0,value:"使用者名稱"}],CHANGING_USERNAME:[{type:0,value:"備註：當您更改使用者名稱時，舊的名稱將會開放給別的會員使用。"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-upload-blocking_zh-hk",(function(e,t){e.Intl.add("hermes/upload-blocking","zh-HK",{UPLOADS_LOCKED_SOON:[{type:0,value:"你的上傳功能即將被鎖。"}],FREE_ACCOUNTS_NO_LONGER_UPLOAD:[{type:0,value:"由 1 月 8 日起，擁有 "},{type:1,value:"limitCount"},{type:0,value:" 張相片或以上的 Flickr 免費帳戶將無法上傳新相片。"}],LEARN_MORE_ABOUT_CHANGES_HERE:[{type:0,value:"在這裡進一步了解這些變更。"}],UPGRADE_TO_GET_UNLIMITED:[{type:0,value:"如要無限上傳，可使用代碼 "},{type:1,value:"couponCode"},{type:0,value:" 以 "},{type:1,value:"percentOff"},{type:0,value:"% 折扣升級至 Pro。"}],FREE_ACCOUNTS_NO_LONGER_UPLOAD_2:[{type:0,value:"由 2019 年 1 月 8 日起，擁有 "},{type:1,value:"limitCount"},{type:0,value:" 張相片或以上的 Flickr 免費帳戶將無法上傳新相片。由 2019 年 1 月 5 日起，超出上限的項目或會被刪除。"}],FREE_ACCOUNTS_NO_LONGER_UPLOAD_BY_1_8_2019:[{type:0,value:"由 1 月 8 日起，相片或影片超過 "},{type:1,value:"limitCount"},{type:0,value:"項的 Flickr 免費帳戶將無法上傳新內容。"}],UPGRADE_TO_GET_UNLIMITED_BY_1_8_2019:[{type:0,value:"如要無限上傳，可使用代碼 "},{type:1,value:"couponCode"},{type:0,value:" 以 "},{type:1,value:"percentOff"},{type:0,value:"% 折扣升級至 Pro。(優惠期至 2019 年 1 月 8 日)"}],OVER_UPLOAD_LIMIT_HEAD:[{type:0,value:"你的相片可能快將被刪除。"}],OVER_UPLOAD_LIMIT_COPY:[{type:0,value:'你的免費 Flickr 帳戶的<a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank">儲存上限為 '},{type:1,value:"limitCount"},{type:0,value:'</a> 項相片或影片。你的上傳功能現已被鎖。由 2 月 5 日起，免費帳戶內超出上限的項目將有可能從最舊的項目開始被刪除。要解鎖上傳功能及保護你的相片和影片，請移除項目至少於帳戶上限，或<a href="'},{type:1,value:"upgradeToProUrl"},{type:0,value:'">升級至 Flickr Pro</a> 享用無限儲存空間。'}],AT_UPLOAD_LIMIT_HEAD:[{type:0,value:"你的上傳功能現已被鎖。"}],AT_UPLOAD_LIMIT_COPY:[{type:0,value:'你的免費 Flickr 帳戶的<a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank">儲存上限為 '},{type:1,value:"limitCount"},{type:0,value:'</a> 項相片或影片。由 2 月 5 日起，免費帳戶內超出上限的項目將有可能從最舊的項目開始被刪除。但所有在 2018 年 11 月 1 日前獲 Creative Commons 授權 (或其他免費授權類型) 的項目，將不會被刪除。要上傳新相片或影片，請移除項目至少於帳戶上限，或<a href="'},{type:1,value:"upgradeToProUrl"},{type:0,value:'">升級至 Flickr Pro</a> 享用無限儲存空間。'}],UPLOADS_LOCKED_SOON_HEAD:[{type:0,value:"你的上傳功能即將被鎖。"}],UPLOADS_LOCKED_SOON_COPY:[{type:0,value:'你快將達到免費 Flickr 帳戶的<a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank">'},{type:1,value:"limitCount"},{type:0,value:" 項內容上限</a>。要上傳多於 "},{type:1,value:"limitCount"},{type:0,value:' 項相片或影片，你需要<a href="'},{type:1,value:"upgradeToProUrl"},{type:0,value:'">升級至 Flickr Pro</a> 享用無限上傳。'}],YOU_CAN_UPLOAD_COUNT_MORE:[{type:6,value:"photoCount",options:{one:{value:[{type:0,value:"你可以上傳多 "},{type:1,value:"countString"},{type:0,value:" 項相片或影片。"}]},other:{value:[{type:0,value:"你可以上傳多 "},{type:1,value:"countString"},{type:0,value:" 項相片或影片。"}]}},offset:0,pluralType:"cardinal"}],MORE_THAN_LIMIT_ITEMS_TO_UPLOAD:[{type:6,value:"photoCount",options:{one:{value:[{type:0,value:"似乎要上傳的項目多於 "},{type:1,value:"countString"},{type:0,value:" 項。我們會上傳此批次的首 "},{type:1,value:"countString"},{type:0,value:" 項。"}]},other:{value:[{type:0,value:"似乎要上傳的項目多於 "},{type:1,value:"countString"},{type:0,value:" 項。我們會上傳此批次的首 "},{type:1,value:"countString"},{type:0,value:" 項。"}]}},offset:0,pluralType:"cardinal"}],NEVERMIND:[{type:0,value:"不要緊"}],OK_GO_AHEAD:[{type:0,value:"好，開始"}],UPLOAD_QUEUE_FULL:[{type:0,value:"你的上傳佇列已滿！"}],GET_PRO_FOR_UNLIMITED:[{type:0,value:"購買 Pro 以取得無限上傳空間"}],NOT_NOW:[{type:0,value:"現在不要"}],UPLOAD_YOUVE_REACHED_LIMIT_GET_PRO:[{type:0,value:"你已達到 1000 個上傳項目上限。購買 Pro 以取得無限上傳空間。"}],YOUVE_REACHED_UPLOAD_LIMIT:[{type:0,value:"你已達到 "},{type:1,value:"limitCount"},{type:0,value:" 個上傳項目上限。"}],AT_UPLOAD_LIMIT_COPY_SHORT:[{type:0,value:'你的免費 Flickr 帳戶的<a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank">儲存上限為 '},{type:1,value:"limitCount"},{type:0,value:" 項相片或影片</a>。要上傳多於 "},{type:1,value:"limitCount"},{type:0,value:" 項內容，你需要升級至 Flickr Pro 享用無限儲存空間。"}],OVER_UPLOAD_LIMIT_COPY_SHORT:[{type:0,value:'你的免費 Flickr 帳戶的<a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank">儲存上限為 '},{type:1,value:"limitCount"},{type:0,value:" 項相片或影片</a>。由 2 月 5 日起，超出上限的項目將有可能從最舊的項目開始被刪除。升級至 Flickr Pro 以享受無限儲存空間。"}],PHOTO_EDITOR_REACHED_UPLOAD_LIMIT:[{type:0,value:"你已達到 "},{type:1,value:"limitCount"},{type:0,value:' 項內容上限。要儲存新副本，<a href="'},{type:1,value:"upgradeToProUrl"},{type:0,value:'" target="_blank">升級至 Flickr Pro</a>。'}],OVER_UPLOAD_LIMIT_EXTEND_HEAD:[{type:0,value:"更新：免費 Flickr 帳戶儲存上限實施日期延後。"}],OVER_UPLOAD_LIMIT_EXTEND_COPY:[{type:0,value:"我們會延後實施日期，讓你有更多時間升級至無限儲存空間的 Flickr Pro，或移除相片/影片以符合新的 "},{type:1,value:"limit"},{type:0,value:" 個項目上限要求。新的限期為 2019 年 3 月 "},{type:1,value:"dateNumber"},{type:0,value:" 日。"}],ALL_YOUR_PHOTOS_MATTER:[{type:0,value:'你的<span class="all-text">所有</span>相片均十分重要。'}],UPLOAD_LIMIT_EXTEND_MODAL_1:[{type:0,value:"我們明白最近免費 Flickr 帳戶增設 "},{type:1,value:"limit"},{type:0,value:" 項相片及影片上載上限，是一項重大更新。我們清楚收到 Flickr 攝影師的意見，知道大家需要更多時間妥善保管你的相片。"}],UPLOAD_LIMIT_EXTEND_MODAL_2:[{type:0,value:"無論你升級至無限相片儲存空間的 Flickr Pro，還是下載相片以符合新的上限要求，限期都會延至 2019 年 3 月 "},{type:1,value:"dateNumber"},{type:0,value:" 日。"}],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS_FAVES_TAGS:[{type:0,value:"這些相片有 "},{type:1,value:"views"},{type:0,value:" 次檢視、"},{type:1,value:"faves"},{type:0,value:" 個最愛和 "},{type:1,value:"tags"},{type:0,value:" 個標籤。"}],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS:[{type:0,value:"這些相片有 "},{type:1,value:"views"},{type:0,value:" 次檢視。"}],LIMIT_OVERLAY_STATS_DISAPPEAR_FAVES:[{type:0,value:"這些相片有"},{type:1,value:"faves"},{type:0,value:" 個最愛。"}],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS_FAVES:[{type:0,value:"這些相片有 "},{type:1,value:"views"},{type:0,value:" 次檢視和"},{type:1,value:"faves"},{type:0,value:" 個最愛。"}],LIMIT_OVERLAY_STATS_DISAPPEAR_TAGS:[{type:0,value:"這些相片有 "},{type:1,value:"tags"},{type:0,value:" 個標籤。"}],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS_TAGS:[{type:0,value:"這些相片有 "},{type:1,value:"views"},{type:0,value:" 次檢視和 "},{type:1,value:"tags"},{type:0,value:" 個標籤。"}],LIMIT_OVERLAY_STATS_DISAPPEAR_FAVES_TAGS:[{type:0,value:"這些相片有 "},{type:1,value:"faves"},{type:0,value:" 個最愛和 "},{type:1,value:"tags"},{type:0,value:" 個標籤。"}],RIGHT_NOW_PHOTOS_AT_RISK:[{type:0,value:"現在你有 "},{type:1,value:"count"},{type:0,value:" 張相片可能會被刪除。"}],TAKE_MOMENT_TO_PROTECT_PHOTOS:[{type:0,value:"請用一點時間保護你帳戶內的相片。"}],PROTECT_THESE_PHOTOS:[{type:0,value:"保護這些相片。"}],SAVE_YOUR_PHOTOS:[{type:0,value:"保護你的相片"}],CONTINUE_WITHOUT_SECURING_PHOTOS:[{type:1,value:"count"},{type:0,value:" 張相片繼續不受保障。"}],CONTINUE_WITHOUT_SECURING_PHOTOS_B:[{type:1,value:"count"},{type:0,value:" 張相片繼續不受保障"}],MARK_PHOTOS_FOR_DELETION:[{type:0,value:"不，將 "},{type:1,value:"count"},{type:0,value:" 張相片標記為刪除。"}],MARK_PHOTOS_FOR_DELETION_B:[{type:0,value:"不，將 "},{type:1,value:"count"},{type:0,value:" 張相片標記為刪除"}],DONT_REMIND_AGAIN:[{type:0,value:"不要再提醒我。"}],DONT_REMIND_AGAIN_B:[{type:0,value:"不要再提醒我"}],CHOOSE_ABOVE_TO_CONTINUE:[{type:0,value:"在上方選擇你相片的處理方式。"}],DID_YOU_KNOW_FLICKR_PRO:[{type:0,value:"你知道 Flickr Pro 除了無限儲存空間，還有更多好處嗎？"}],UPGRADE_YOU_ALSO_GET:[{type:0,value:"你可以盡情瀏覽不受廣告騷擾、優先享有 Support Heroes 支援，更可在我們合作夥伴購買攝影集、軟件和裝備時享有獨家優惠，節省更多。"}],DONT_NEED_TO_BE_PROFESSIONAL:[{type:0,value:"你不必是專業攝影師，也可以加入 Flickr Pro。"}],FLICKR_PROS_LOVE_PHOTOGRAPHY:[{type:0,value:"Flickr Pro 會員熱愛攝影、喜歡簡單和簡約。加入 Flickr Pro，即可加入同樣喜歡談論、分享和探索攝影的社群。"}],JOIN_FLICKR_PRO:[{type:0,value:"加入 Flickr Pro"}],OVER_UPLOAD_LIMIT_HEAD_FINAL:[{type:0,value:"你的相片可能會被刪除。"}],OVER_UPLOAD_LIMIT_COPY_FINAL:[{type:0,value:"你的免費 Flickr 帳戶的儲存上限為 "},{type:1,value:"limitCount"},{type:0,value:" 項相片或影片。超出上限的最舊項目可能會被刪除。升級至 Flickr Pro 以享受無限儲存空間。"}],LIKE_TO_KEEP_YOUR_PHOTOS:[{type:0,value:'我們希望你可以永遠在這裡免費儲存所有相片。(包括這張你在 Flickr 上載的第一張相片。)你應該也知道我們對<a href="'},{type:1,value:"rulesUrl"},{type:0,value:'">免費帳戶的新規定</a>，超出新上限時或需刪除相片。你有 '},{type:1,value:"photoCountString"},{type:0,value:" 張相片超出了我們免費儲存的上限。請告訴我們你的決定。"}],DONT_SAVE_MY_PHOTOS:[{type:0,value:"不儲存我的相片"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-photo-list-photo-interaction",(function(n,t){var l=n.Template.Handlebars.revive({1:function(n,t,l,e,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return n.escapeExpression(n.lambda(null!=(a=null!=t?r(t,"photo"):t)?r(a,"title"):a,t))},3:function(n,t,l,e,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return n.escapeExpression((a(l,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"common.UNTITLED"},data:o,loc:{start:{line:3,column:141},end:{line:3,column:183}}}))},5:function(n,t,l,e,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return" "+n.escapeExpression((a(l,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"common.BY_YOU"},data:o,loc:{start:{line:3,column:212},end:{line:3,column:252}}}))},7:function(n,t,l,e,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return" "+n.escapeExpression((r(l,"intlMessage")||t&&r(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{user:null!=(a=null!=(a=null!=t?r(t,"photo"):t)?r(a,"owner"):a)?r(a,"username"):a,intlName:"common.BY_USER"},data:o,loc:{start:{line:3,column:261},end:{line:3,column:328}}}))},9:function(n,t,l,e,o){var a,r=null!=t?t:n.nullContext||{},i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t<div class="extra-tools">\n'+(null!=(a=i(l,"if").call(r,null!=t?i(t,"removeToolClass"):t,{name:"if",hash:{},fn:n.program(10,o,0),inverse:n.noop,data:o,loc:{start:{line:6,column:3},end:{line:8,column:10}}}))?a:"")+(null!=(a=i(l,"if").call(r,null!=t?i(t,"bigScotchTitle"):t,{name:"if",hash:{},fn:n.program(12,o,0),inverse:n.noop,data:o,loc:{start:{line:9,column:3},end:{line:11,column:10}}}))?a:"")+(null!=(a=i(l,"if").call(r,null!=t?i(t,"moreMenuItems"):t,{name:"if",hash:{},fn:n.program(14,o,0),inverse:n.noop,data:o,loc:{start:{line:12,column:3},end:{line:14,column:10}}}))?a:"")+"\t\t</div>\n"},10:function(n,t,l,e,o){var a,r,i=n.escapeExpression,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<div class="extra-tool remove-photo '+i("function"==typeof(r=null!=(r=s(l,"removeToolClass")||(null!=t?s(t,"removeToolClass"):t))?r:n.hooks.helperMissing)?r.call(null!=t?t:n.nullContext||{},{name:"removeToolClass",hash:{},data:o,loc:{start:{line:7,column:40},end:{line:7,column:59}}}):r)+'" data-id='+i(n.lambda(null!=(a=null!=t?s(t,"photo"):t)?s(a,"id"):a,t))+"></div>\n"},12:function(n,t,l,e,o){var a,r,i=n.escapeExpression,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<div class="extra-tool big-scotch" data-id='+i(n.lambda(null!=(a=null!=t?s(t,"photo"):t)?s(a,"id"):a,t))+' title="'+i("function"==typeof(r=null!=(r=s(l,"bigScotchTitle")||(null!=t?s(t,"bigScotchTitle"):t))?r:n.hooks.helperMissing)?r.call(null!=t?t:n.nullContext||{},{name:"bigScotchTitle",hash:{},data:o,loc:{start:{line:10,column:67},end:{line:10,column:85}}}):r)+'"></div>\n'},14:function(n,t,l,e,o){var a,r,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,u=n.escapeExpression,c=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<div class="extra-tool more-menu" data-menu-items="'+u("function"==typeof(r=null!=(r=c(l,"moreMenuItems")||(null!=t?c(t,"moreMenuItems"):t))?r:s)?r.call(i,{name:"moreMenuItems",hash:{},data:o,loc:{start:{line:13,column:55},end:{line:13,column:72}}}):r)+'" data-id='+u(n.lambda(null!=(a=null!=t?c(t,"photo"):t)?c(a,"id"):a,t))+' title="'+u((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"common.MORE"},data:o,loc:{start:{line:13,column:102},end:{line:13,column:140}}}))+'"></div>\n'},16:function(n,t,l,e,o){var a,r,i=n.escapeExpression,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<a href="'+i("function"==typeof(r=null!=(r=s(l,"photoPageUrl")||(null!=t?s(t,"photoPageUrl"):t))?r:n.hooks.helperMissing)?r.call(null!=t?t:n.nullContext||{},{name:"photoPageUrl",hash:{},data:o,loc:{start:{line:20,column:13},end:{line:20,column:29}}}):r)+'" class="title" tabindex="-1">'+i(n.lambda(null!=(a=null!=t?s(t,"photo"):t)?s(a,"title"):a,t))+"</a>\n"},18:function(n,t,l,e,o){return'\t\t\t\t<span class="title empty"> </span>\n'},20:function(n,t,l,e,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<a href="'+n.escapeExpression(n.lambda(null!=(a=null!=(a=null!=t?r(t,"photo"):t)?r(a,"owner"):a)?r(a,"url"):a,t))+'" class="attribution">\n'+(null!=(a=(r(l,"photoAttribution")||t&&r(t,"photoAttribution")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},null!=t?r(t,"photo"):t,null!=t?r(t,"flippers"):t,{name:"photoAttribution",hash:{},fn:n.program(21,o,0),inverse:n.noop,data:o,loc:{start:{line:26,column:5},end:{line:32,column:26}}}))?a:"")+"\t\t\t\t</a>\n"},21:function(n,t,l,e,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=r(l,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"intlName"):t,{name:"if",hash:{},fn:n.program(22,o,0),inverse:n.program(24,o,0),data:o,loc:{start:{line:27,column:6},end:{line:31,column:13}}}))?a:""},22:function(n,t,l,e,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t\t\t"+n.escapeExpression((a(l,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{user:null!=t?a(t,"user"):t,intlName:null!=t?a(t,"intlName"):t},data:o,loc:{start:{line:28,column:7},end:{line:28,column:50}}}))+"\n"},24:function(n,t,l,e,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t\t\t"+n.escapeExpression("function"==typeof(a=null!=(a=r(l,"user")||(null!=t?r(t,"user"):t))?a:n.hooks.helperMissing)?a.call(null!=t?t:n.nullContext||{},{name:"user",hash:{},data:o,loc:{start:{line:30,column:7},end:{line:30,column:15}}}):a)+"\n"},26:function(n,t,l,e,o){return'\t\t\t\t<span class="attribution empty"> </span>\n'},28:function(n,t,l,e,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<span class="engagement-item like">\n\t\t\t\t\t'+n.escapeExpression((a(l,"outlet")||t&&a(t,"outlet")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},null!=t?a(t,"like-engagement-item-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:43,column:5},end:{line:43,column:41}}}))+"\n\t\t\t\t</span>\n"},30:function(n,t,l,e,o){var a,r=null!=t?t:n.nullContext||{},i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<span role="button" class="engagement-item fave '+(null!=(a=i(l,"if").call(r,null!=(a=null!=(a=null!=t?i(t,"photo"):t)?i(a,"engagement"):a)?i(a,"isFaved"):a,{name:"if",hash:{},fn:n.program(31,o,0),inverse:n.noop,data:o,loc:{start:{line:46,column:52},end:{line:46,column:97}}}))?a:"")+(null!=(a=i(l,"if").call(r,null!=t?i(t,"canFave"):t,{name:"if",hash:{},fn:n.noop,inverse:n.program(33,o,0),data:o,loc:{start:{line:46,column:97},end:{line:46,column:132}}}))?a:"")+'" tabindex="0"\n'+(null!=(a=i(l,"if").call(r,null!=t?i(t,"isFaved"):t,{name:"if",hash:{},fn:n.program(35,o,0),inverse:n.program(37,o,0),data:o,loc:{start:{line:47,column:5},end:{line:51,column:12}}}))?a:"")+"\t\t\t\t\t"+(null!=(a=i(l,"unless").call(r,null!=t?i(t,"canFave"):t,{name:"unless",hash:{},fn:n.program(39,o,0),inverse:n.noop,data:o,loc:{start:{line:52,column:5},end:{line:52,column:48}}}))?a:"")+'>\n\t\t\t\t\t<span class="engagement-icon">\n\t\t\t\t\t\t<i class="animated-fave-star"></i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="engagement-count">\n\t\t\t\t\t\t'+(null!=(a=i(l,"if").call(r,null!=(a=null!=(a=null!=t?i(t,"photo"):t)?i(a,"engagement"):a)?i(a,"faveCount"):a,{name:"if",hash:{},fn:n.program(41,o,0),inverse:n.noop,data:o,loc:{start:{line:57,column:6},end:{line:57,column:90}}}))?a:"")+"\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n"},31:function(n,t,l,e,o){return" faved"},33:function(n,t,l,e,o){return" can-not-fave"},35:function(n,t,l,e,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t\taria-label="'+n.escapeExpression((a(l,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"fave-view.UNFAVE_PHOTO"},data:o,loc:{start:{line:48,column:18},end:{line:48,column:67}}}))+'"\n'},37:function(n,t,l,e,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t\taria-label="'+n.escapeExpression((a(l,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"common.ADD_TO_FAVORITES"},data:o,loc:{start:{line:50,column:18},end:{line:50,column:68}}}))+'"\n'},39:function(n,t,l,e,o){return'tabindex="-1"'},41:function(n,t,l,e,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return n.escapeExpression((r(l,"formatNumber")||t&&r(t,"formatNumber")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},null!=(a=null!=(a=null!=t?r(t,"photo"):t)?r(a,"engagement"):a)?r(a,"faveCount"):a,{name:"formatNumber",hash:{},data:o,loc:{start:{line:57,column:40},end:{line:57,column:83}}}))},43:function(n,t,l,e,o){return" hidden"},45:function(n,t,l,e,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return n.escapeExpression((r(l,"formatNumber")||t&&r(t,"formatNumber")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},null!=(a=null!=(a=null!=t?r(t,"photo"):t)?r(a,"engagement"):a)?r(a,"commentCount"):a,{name:"formatNumber",hash:{},data:o,loc:{start:{line:66,column:42},end:{line:66,column:88}}}))},47:function(n,t,l,e,o){return'\t\t\t\t<span role="button" class="engagement-item curate" tabindex="0">\n\t\t\t\t\t<span class="engagement-icon">\n\t\t\t\t\t\t<svg class="icon icon-curate"><use xlink:href="#icon-curate"></use></svg>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n'},compiler:[8,">= 4.3.0"],main:function(n,t,l,e,o){var a,r,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,u="function",c=n.escapeExpression,p=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'<div class="photo-list-photo-interaction">\n\t<a class="overlay" href="'+c(typeof(r=null!=(r=p(l,"photoPageUrl")||(null!=t?p(t,"photoPageUrl"):t))?r:s)===u?r.call(i,{name:"photoPageUrl",hash:{},data:o,loc:{start:{line:3,column:26},end:{line:3,column:42}}}):r)+'" tabindex="0" role="heading" aria-level="3" aria-label="'+(null!=(a=p(l,"if").call(i,null!=(a=null!=t?p(t,"photo"):t)?p(a,"title"):a,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.program(3,o,0),data:o,loc:{start:{line:3,column:99},end:{line:3,column:190}}}))?a:"")+(null!=(a=p(l,"if").call(i,null!=(a=null!=t?p(t,"photo"):t)?p(a,"isOwner"):a,{name:"if",hash:{},fn:n.program(5,o,0),inverse:n.program(7,o,0),data:o,loc:{start:{line:3,column:190},end:{line:3,column:335}}}))?a:"")+'"></a>\n'+(null!=(a=p(l,"if").call(i,null!=t?p(t,"hasExtraFunctionality"):t,{name:"if",hash:{},fn:n.program(9,o,0),inverse:n.noop,data:o,loc:{start:{line:4,column:1},end:{line:16,column:8}}}))?a:"")+'\t<div class="interaction-bar" title="'+(null!=(a=p(l,"if").call(i,null!=(a=null!=t?p(t,"photo"):t)?p(a,"title"):a,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.program(3,o,0),data:o,loc:{start:{line:17,column:37},end:{line:17,column:128}}}))?a:"")+(null!=(a=p(l,"if").call(i,null!=(a=null!=t?p(t,"photo"):t)?p(a,"isOwner"):a,{name:"if",hash:{},fn:n.program(5,o,0),inverse:n.program(7,o,0),data:o,loc:{start:{line:17,column:128},end:{line:17,column:273}}}))?a:"")+'">\n\t\t<div class="text">\n'+(null!=(a=p(l,"if").call(i,null!=(a=null!=t?p(t,"photo"):t)?p(a,"title"):a,{name:"if",hash:{},fn:n.program(16,o,0),inverse:n.program(18,o,0),data:o,loc:{start:{line:19,column:3},end:{line:23,column:10}}}))?a:"")+(null!=(a=p(l,"if").call(i,null!=(a=null!=(a=null!=t?p(t,"photo"):t)?p(a,"owner"):a)?p(a,"displayname"):a,{name:"if",hash:{},fn:n.program(20,o,0),inverse:n.program(26,o,0),data:o,loc:{start:{line:24,column:3},end:{line:36,column:10}}}))?a:"")+'\t\t</div>\n\n\t\t<div class="engagement">\n\n'+(null!=(a=(p(l,"isFlipped")||t&&p(t,"isFlipped")||s).call(i,"enable-likes",{name:"isFlipped",hash:{},fn:n.program(28,o,0),inverse:n.program(30,o,0),data:o,loc:{start:{line:41,column:3},end:{line:60,column:17}}}))?a:"")+'\t\t\t<a class="engagement-item comment" href="'+c(typeof(r=null!=(r=p(l,"photoPageUrl")||(null!=t?p(t,"photoPageUrl"):t))?r:s)===u?r.call(i,{name:"photoPageUrl",hash:{},data:o,loc:{start:{line:61,column:44},end:{line:61,column:60}}}):r)+'#comments" aria-label="'+c((p(l,"intlMessage")||t&&p(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PLURAL_COMMENT"},data:o,loc:{start:{line:61,column:83},end:{line:61,column:143}}}))+'" tabindex="0">\n\t\t\t\t<span class="engagement-icon">\n\t\t\t\t\t<svg class="icon icon-comment_hollow"><use xlink:href="#icon-comment_hollow"></use></svg>\n\t\t\t\t</span>\n\t\t\t\t<span class="engagement-count'+(null!=(a=p(l,"if").call(i,null!=(a=null!=(a=null!=t?p(t,"photo"):t)?p(a,"engagement"):a)?p(a,"commentCount"):a,{name:"if",hash:{},fn:n.noop,inverse:n.program(43,o,0),data:o,loc:{start:{line:65,column:33},end:{line:65,column:84}}}))?a:"")+'">\n\t\t\t\t\t'+(null!=(a=p(l,"if").call(i,null!=(a=null!=(a=null!=t?p(t,"photo"):t)?p(a,"engagement"):a)?p(a,"commentCount"):a,{name:"if",hash:{},fn:n.program(45,o,0),inverse:n.noop,data:o,loc:{start:{line:66,column:5},end:{line:66,column:95}}}))?a:"")+"\n\t\t\t\t</span>\n\t\t\t</a>\n\n"+(null!=(a=p(l,"if").call(i,null!=t?p(t,"displayCurate"):t,{name:"if",hash:{},fn:n.program(47,o,0),inverse:n.noop,data:o,loc:{start:{line:70,column:3},end:{line:76,column:10}}}))?a:"")+"\t\t</div>\n\n\t</div>\n</div>\n"},useData:!0}),e={};n.Array.each([],(function(t){var l=n.Template.get("hermes/"+t);l&&(e[t]=l)})),n.Template.register("hermes/photo-list-photo-interaction",(function(t,o){return(o=o||{}).partials=o.partials?n.merge(e,o.partials):e,l(t,o)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-add-to-stuff-view",(function(t,n){var l=t.Template.Handlebars.revive({1:function(t,n,l,e,a){var o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t<li role="button" class="tab-item album-tab selected" data-tab="album" tabindex="0">\n\t\t\t\t\t<span>'+t.escapeExpression((o(l,"intlMessage")||n&&o(n,"intlMessage")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},{name:"intlMessage",hash:{intlName:"common.ALBUMS"},data:a,loc:{start:{line:7,column:11},end:{line:7,column:51}}}))+"</span>\n\t\t\t\t</li>\n"},3:function(t,n,l,e,a){var o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t<li role="button" class="tab-item gallery-tab" data-tab="gallery" tabindex="0">\n\t\t\t\t\t<span>'+t.escapeExpression((o(l,"intlMessage")||n&&o(n,"intlMessage")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:a,loc:{start:{line:12,column:11},end:{line:12,column:54}}}))+"</span>\n\t\t\t\t</li>\n"},5:function(t,n,l,e,a){var o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t<li role="button" class="tab-item group-tab" data-tab="group" tabindex="0">\n\t\t\t\t\t<span>'+t.escapeExpression((o(l,"intlMessage")||n&&o(n,"intlMessage")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},{name:"intlMessage",hash:{intlName:"common.GROUPS"},data:a,loc:{start:{line:17,column:11},end:{line:17,column:51}}}))+"</span>\n\t\t\t\t</li>\n"},7:function(t,n,l,e,a){var o=null!=n?n:t.nullContext||{},s=t.hooks.helperMissing,i=t.escapeExpression,r=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t<div class="tab-container selected" data-tab="album">\n\t\t\t\t'+i((r(l,"outlet")||n&&r(n,"outlet")||s).call(o,null!=n?r(n,"album-selection-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:27,column:4},end:{line:27,column:35}}}))+"\n\t\t\t\t"+i((r(l,"outlet")||n&&r(n,"outlet")||s).call(o,null!=n?r(n,"album-creation-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:28,column:4},end:{line:28,column:34}}}))+"\n\t\t\t</div>\n"},9:function(t,n,l,e,a){var o=null!=n?n:t.nullContext||{},s=t.hooks.helperMissing,i=t.escapeExpression,r=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t<div class="tab-container" data-tab="gallery">\n\t\t\t\t'+i((r(l,"outlet")||n&&r(n,"outlet")||s).call(o,null!=n?r(n,"gallery-selection-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:34,column:4},end:{line:34,column:37}}}))+"\n\t\t\t\t"+i((r(l,"outlet")||n&&r(n,"outlet")||s).call(o,null!=n?r(n,"gallery-creation-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:35,column:4},end:{line:35,column:36}}}))+"\n\t\t\t</div>\n"},11:function(t,n,l,e,a){var o,s=null!=n?n:t.nullContext||{},i=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t<div class="tab-container" data-tab="group">\n\t\t\t\t'+t.escapeExpression((i(l,"outlet")||n&&i(n,"outlet")||t.hooks.helperMissing).call(s,null!=n?i(n,"group-selection-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:41,column:4},end:{line:41,column:35}}}))+"\n"+(null!=(o=i(l,"if").call(s,null!=n?i(n,"inlineGroupCreation"):n,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:42,column:4},end:{line:44,column:11}}}))?o:"")+"\t\t\t</div>\n"},12:function(t,n,l,e,a){var o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return"\t\t\t\t\t"+t.escapeExpression((o(l,"outlet")||n&&o(n,"outlet")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},null!=n?o(n,"group-creation-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:43,column:5},end:{line:43,column:35}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,n,l,e,a){var o,s=null!=n?n:t.nullContext||{},i=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="add-to-stuff-container" tabindex="-1">\n\t<div class="nav">\n\t\t<div class="list-label">'+t.escapeExpression((i(l,"intlMessage")||n&&i(n,"intlMessage")||t.hooks.helperMissing).call(s,{name:"intlMessage",hash:{intlName:"add-to-stuff.ADD_TO_LABEL"},data:a,loc:{start:{line:3,column:26},end:{line:3,column:78}}}))+"</div>\n\t\t<ul>\n"+(null!=(o=i(l,"if").call(s,null!=n?i(n,"showAlbums"):n,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:5,column:3},end:{line:9,column:10}}}))?o:"")+(null!=(o=i(l,"if").call(s,null!=n?i(n,"showGalleries"):n,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a,loc:{start:{line:10,column:3},end:{line:14,column:10}}}))?o:"")+(null!=(o=i(l,"if").call(s,null!=n?i(n,"showGroups"):n,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a,loc:{start:{line:15,column:3},end:{line:19,column:10}}}))?o:"")+'\t\t</ul>\n\t\t<svg class="close-x-button"><use xlink:href="#icon-close"></use></svg>\n\t</div>\n\t<div class="tab-content-container">\n\n'+(null!=(o=i(l,"if").call(s,null!=n?i(n,"showAlbums"):n,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a,loc:{start:{line:25,column:2},end:{line:30,column:9}}}))?o:"")+"\n"+(null!=(o=i(l,"if").call(s,null!=n?i(n,"showGalleries"):n,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a,loc:{start:{line:32,column:2},end:{line:37,column:9}}}))?o:"")+"\n"+(null!=(o=i(l,"if").call(s,null!=n?i(n,"showGroups"):n,{name:"if",hash:{},fn:t.program(11,a,0),inverse:t.noop,data:a,loc:{start:{line:39,column:2},end:{line:46,column:9}}}))?o:"")+"\t</div>\n</div>\n"},useData:!0}),e={};t.Array.each([],(function(n){var l=t.Template.get("hermes/"+n);l&&(e[n]=l)})),t.Template.register("hermes/add-to-stuff-view",(function(n,a){return(a=a||{}).partials=a.partials?t.merge(e,a.partials):e,l(n,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});