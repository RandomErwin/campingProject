YUI.add("add-to-stuff-view",(function(e){e.namespace("Views")[this.name]=e.Base.create("add-to-stuff-view",e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.params=e,this.params.showAlbums=!1!==this.params.showAlbums,this.params.showGalleries=!1!==this.params.showGalleries,this.params.showGroups=!1!==this.params.showGroups,this.params.initialTab=this.params.initialTab||"album",this.initialTab=this.params.initialTab,this.params.inlineGroupCreation=this.params.inlineGroupCreation||!1,this.params.inlineAlbumCreation=void 0===this.params.inlineAlbumCreation||this.params.inlineAlbumCreation,this.params.inlineGalleryCreation=void 0===this.params.inlineGalleryCreation||this.params.inlineGalleryCreation,this.modalSizeConfig=this.params.modalSizeConfig||null,this.params.inlineCreation={album:this.params.inlineAlbumCreation,gallery:this.params.inlineGalleryCreation,group:this.params.inlineGroupCreation},this.currentTabName="",this},subviewConfig:{"album-selection-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1,additionalViewClasses:["stuff-selection-view"]},"gallery-selection-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1,additionalViewClasses:["stuff-selection-view"]},"group-selection-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1,additionalViewClasses:["stuff-selection-view"]},"album-creation-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1,additionalViewClasses:["stuff-creation-view","hidden"]},"gallery-creation-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1,additionalViewClasses:["stuff-creation-view","hidden"]},"group-creation-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1,additionalViewClasses:["stuff-creation-view","hidden"]}},buildContainer:function(){return this.setContainerWithTemplate("add-to-stuff-view",{showAlbums:this.params.showAlbums,showGalleries:this.params.showGalleries,showGroups:this.params.showGroups,inlineGroupCreation:this.params.inlineGroupCreation}),this},activate:function(){var e=this,t=this.get("container");return this.nav=t.one(".nav"),this.firstTab=t.one(".tab-item"),["album","gallery","group"].forEach((function(t){e.subviews[t+"-selection-view"].on("showCreate",(function(){e.showCreate(t)})),e.setupCreationEvents(e.subviews[t+"-creation-view"])})),this.registerEventHandler(this.nav.one("ul").on(["click","key"],this.handleNavClick.bind(this),"down:13")),this.registerEventHandler(this.nav.one(".close-x-button").on("click",this.handleCloseClick.bind(this))),this.switchTabs(this.initialTab),this.registerEventHandler(t.on("keydown",this.handleKeyPress.bind(this))),this.registerEventHandler(t.delegate("focus",this.handleFocus.bind(this))),this},showCreate:function(e){if(this.params.inlineCreation[e])if(this.subviews[e+"-selection-view"].get("container").addClass("hidden"),this.subviews[e+"-creation-view"].get("container").removeClass("hidden"),this.nav.hide(),this.subviews[e+"-creation-view"].focusInitial(),this.modalSizeConfig){const{creationConfig:e}=this.modalSizeConfig;if(!e)return;this.fire("updateConfig",{config:e})}else this.fire("contentSizeChanged");else this.showCreateModal(e)},showCreateModal:function(t){let i=new e.CurationHelper(this.appContext,{view:this});i.showCreationModal({viewName:t+"-creation-view",overlayClassList:"over-droparound-under-modal",customConfig:{photoId:this.params.photoId,inlineCreation:this.params.inlineCreation[t]}}),this.setupCreationEvents(i.creationView)},setupCreationEvents:function(e){var t=this,i=e.curationType;e.on("cancel",(function(){t.params.inlineCreation[i]&&t.hideCreate(i)})),e.on("readyToClose",(function(){t.params.inlineCreation[i]&&t.fire("readyToClose")})),e.on("created",(function(e){t.params.inlineCreation[i]&&t.hideCreate(i),t.params.dismissOnCreate?t.fire("readyToClose"):e.curation&&t.subviews[i+"-selection-view"].reload()})),e.on("contentSizeChanged",(function(e){t.fire("contentSizeChanged")}))},hideCreate:function(e){if(this.subviews[e+"-selection-view"].get("container").removeClass("hidden"),this.subviews[e+"-creation-view"].get("container").addClass("hidden"),this.nav.show(),this.subviews[e+"-selection-view"].focusInitial(),this.modalSizeConfig){const{selectionConfig:e}=this.modalSizeConfig;if(!e)return;this.fire("updateConfig",{config:e})}else this.fire("contentSizeChanged")},handleNavClick:function(e){var t;e.stopPropagation(),e.preventDefault(),e.target&&(t=e.target.ancestor("li",!0))&&this.switchTabs(t.get("dataset").tab)},switchTabs:function(e){var t=this,i=this.nav.one(".tab-item.selected"),n=this.nav.one(".tab-item[data-tab="+e+"]"),a=i?i.get("dataset").tab:null,s=this.get("container").one(".tab-content-container"),r=s.one(".tab-container[data-tab="+a+"]"),o=s.one(".tab-container[data-tab="+e+"]"),l=o.one(".stuff-selection-search");this.currentTabName=e,i&&(i.removeClass("selected"),r.removeClass("selected")),n.addClass("selected"),o.addClass("selected"),setTimeout((function(){t.fire("contentSizeChanged")}),0),setTimeout((function(){l.focus()}),10)},handleCloseClick:function(e){this.fire("readyToClose")},handleKeyPress:function(t){var i=t.keyCode,n=t.shiftKey,a=this.get("container").one(".tab-container.selected"),s=a.one(".done-button")||a.one(".create-button");9===i&&(n&&this.focusedItem===this.firstTab?(t.preventDefault(),s.focus()):n||this.focusedItem!==s||(t.preventDefault(),this.firstTab.focus())),e.fire("addToStuff:keyPressed",{curationType:this.currentTabName,evt:t})},handleFocus:function(e){this.focusedItem=e.target},onSubviewEvent:function(e,t){"readyToClose"===t[0].eventName&&this.fire("readyToClose")}},{ATTRS:{dismissOnCreate:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnCreateAlbum:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnCreateGallery:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnCreateGroup:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnSelect:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnSelectAlbum:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnSelectGallery:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnSelectGroup:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},inlineGroupCreation:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},useLargeLayout:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}}}})}),"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-add-to-stuff-view"],langBundles:["common","more-menu-view","add-to-stuff"]});YUI.add("hermes-lang-more-menu-view_zh-hk",(function(e,_){e.Intl.add("hermes/more-menu-view","zh-HK",{ADD_TO_ALBUM:[{type:0,value:"新增至相簿"}],ADD_TO_SET:[{type:0,value:"新增至相片集"}],ADD_TO_GROUP:[{type:0,value:"新增至群組"}],INVITE_TO_GROUP:[{type:0,value:"邀請至群組"}],ADD_TO_GALLERY:[{type:0,value:"新增至博覽館"}],ADD_TO_REMOVE_FROM_ALBUM:[{type:0,value:"新增至相簿/從相簿移除"}],ADD_TO_REMOVE_FROM_SET:[{type:0,value:"新增至相片集/從相片集移除"}],ADD_TO_REMOVE_FROM_GALLERY:[{type:0,value:"新增至博覽館/從博覽館移除"}],ADD_TO_REMOVE_FROM_GROUP:[{type:0,value:"新增至群組/從群組移除"}],INVITE_TO_REMOVE_FROM_GROUP:[{type:0,value:"邀請新增至群組/從群組移除"}],FLAG_PHOTO:[{type:0,value:"要檢舉這張相片嗎？"}],FLAG:[{type:0,value:"檢舉相片"}],MARK_FOR_REVIEW:[{type:0,value:"檢舉以進行審閱"}],PHOTO_HAS_BEEN_FLAGGED:[{type:0,value:"已檢舉這張相片"}],PROBLEM_FLAGGING:[{type:0,value:"檢舉此相片時發生問題"}],ADD_PHOTO_TO_GROUP:[{type:0,value:"將此相片新增至群組"}],INVITE_PHOTO_TO_GROUP:[{type:0,value:"將此相片邀請至群組"}],ADD_PHOTO_TO_GALLERY:[{type:0,value:"將此相片新增至博覽館"}],ADD_PHOTO_TO_ALBUM:[{type:0,value:"將此相片新增至相簿"}],ADD_PHOTO_TO_SET:[{type:0,value:"將此相片新增至相片集"}],NO_GROUPS:[{type:0,value:'你尚未加入任何群組！ <a href="//www.flickr.com/groups">何不加入群組</a>？'}],NO_GROUPS2:[{type:0,value:'你尚未加入任何群組！ <a href="'},{type:1,value:"url"},{type:0,value:'">何不加入群組</a>？'}],NO_GROUPS_ADMIN:[{type:0,value:'你並非任何群組的管理員！ <a href="//www.flickr.com/groups_create.gne">何不建立群組</a>？'}],NO_GROUPS_ADMIN2:[{type:0,value:'你並非任何群組的管理員！ <a href="'},{type:1,value:"url"},{type:0,value:'">何不建立群組</a>？'}],NO_GALLERIES:[{type:0,value:"沒有博覽館"}],NO_ALBUMS:[{type:0,value:"沒有相簿"}],NO_SETS:[{type:0,value:"沒有相片集"}],LOADING_GROUPS:[{type:0,value:"正在載入群組..."}],LOADING_GALLERIES:[{type:0,value:"正在載入博覽館..."}],LOADING_ALBUMS:[{type:0,value:"正在載入相簿..."}],LOADING_SETS:[{type:0,value:"正在載入相片集..."}],SEARCH_GROUPS_PLACEHOLDER:[{type:0,value:"搜尋群組"}],SEARCH_GALLERIES_PLACEHOLDER:[{type:0,value:"搜尋博覽館"}],SEARCH_ALBUMS_PLACEHOLDER:[{type:0,value:"搜尋相簿"}],SEARCH_SETS_PLACEHOLDER:[{type:0,value:"搜尋相片集"}],GALLERY_TITLE_PLACEHOLDER:[{type:0,value:"博覽館標題 (必要)"}],GALLERY_DESCRIPTION_PLACEHOLDER:[{type:0,value:"博覽館描述"}],ALBUM_TITLE_PLACEHOLDER:[{type:0,value:"相簿標題"}],SET_TITLE_PLACEHOLDER:[{type:0,value:"相片集標題"}],DESCRIPTION_PLACEHOLDER:[{type:0,value:"描述 (選擇性)"}],CREATE_NEW_GALLERY:[{type:0,value:"建立新博覽館"}],CREATE_NEW_ALBUM:[{type:0,value:"建立新相簿"}],CREATE_NEW_SET:[{type:0,value:"建立新相片集"}],CREATE_GALLERY:[{type:0,value:"建立博覽館"}],CREATE_SET:[{type:0,value:"建立相片集"}],CREATE_ALBUM:[{type:0,value:"建立相簿"}],BACK_TO_GALLERIES:[{type:0,value:"返回目前的博覽館"}],BACK_TO_ALBUMS:[{type:0,value:"返回目前的相簿"}],BACK_TO_SETS:[{type:0,value:"返回目前的相片集"}],GROUP_PRIVACY_WARNING:[{type:0,value:"此相片是私人的。 如果你將其新增至群組中，該群組的會員將可以檢視該相片，並增加回應、標籤和備註。"}],DONT_SHOW_ME_AGAIN:[{type:0,value:"不要再顯示此訊息"}],DELETE_PHOTO:[{type:0,value:"刪除相片"}],PERMANENTLY_DELETE_PHOTO:[{type:0,value:"永久刪除此相片"}],PROBLEM_DELETING:[{type:0,value:"刪除此相片時發生問題"}],ADD_LOCATION:[{type:0,value:"新增位置"}],ADD_PEOPLE:[{type:0,value:"新增人物"}],DOWNLOAD_ALL_SIZES:[{type:0,value:"下載/全部尺寸"}],EDIT_DATES:[{type:0,value:"編輯日期"}],EDIT_TITLE_TAGS_DATES:[{type:0,value:"編輯標題、標籤及日期"}],ROTATE:[{type:0,value:"旋轉"}],REPLACE:[{type:0,value:"取代"}],VIDEOS_NO_EDIT_IN_AVIARY:[{type:0,value:"無法在 Aviary 中編輯視訊"}],EDIT_IN_AVIARY:[{type:0,value:"在 Aviary 中編輯"}],COMMENTING:[{type:0,value:"留言"}],REPORT_ABUSE:[{type:0,value:"檢舉濫用"}],FEEDBACK:[{type:0,value:"意見"}],PEOPLE_TAGGING:[{type:0,value:"人物標籤！"}],OPEN_IN_ORGANIZER:[{type:0,value:"在 Organizr 中開啟"}],MORE_ACTIONS:[{type:0,value:"更多動作"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-add-to-stuff_zh-hk",(function(e,_){e.Intl.add("hermes/add-to-stuff","zh-HK",{ADD_TO_LABEL:[{type:0,value:"新增至："}],NO_RESULTS:[{type:0,value:"沒有搜尋結果 :("}],NO_GROUPS:[{type:0,value:"沒有群組"}],DONT_ADMIN_ANY_GROUPS:[{type:0,value:"你沒有管理任何群組。"}],LEARN_TO_RUN_GROUP:[{type:0,value:"瞭解管理群組的方法"}],HAVENT_JOINED_ANY_GROUPS:[{type:0,value:"你未加入任何群組。"}],DISCOVER_GROUPS:[{type:0,value:"發掘群組"}],PENDING_APPROVAL:[{type:0,value:"有待批准"}],CURATIONS_CREATE_NEW_GROUP:[{type:0,value:"建立新群組"}],CURATIONS_CREATE_A_NEW_GROUP:[{type:0,value:"建立新群組"}],CURATIONS_CREATE_NEW_ALBUM:[{type:0,value:"建立新相簿"}],CURATIONS_CREATE_A_NEW_ALBUM:[{type:0,value:"建立新相簿"}],CURATIONS_CREATE_NEW_GALLERY:[{type:0,value:"建立新的博覽館"}],CURATIONS_CREATE_A_NEW_GALLERY:[{type:0,value:"建立新的博覽館"}],ABOUT_YOUR_GROUP:[{type:0,value:"關於你的群組"}],COULDNT_ADD_TO_GROUP:[{type:0,value:"無法新增群組。"}],COULDNT_ACCEPT_GROUP_INVITE:[{type:0,value:"無法接受群組邀請。"}],COULDNT_INVITE_TO_GROUP:[{type:0,value:"無法發出群組邀請。"}],COULDNT_CANCEL_GROUP_INVITE:[{type:0,value:"無法取消群組邀請。"}],COULDNT_REMOVE_FROM_GROUP:[{type:0,value:"無法從群組中移除相片"}],APPROVE:[{type:0,value:"批准"}],CURATIONS_ALBUM_NAME:[{type:0,value:"相簿名稱"}],CURATIONS_GALLERY_NAME:[{type:0,value:"博覽館名稱"}],CURATIONS_DESCRIPTION_OPTIONAL:[{type:0,value:"描述 (選填)"}],PLEASE_ENTER_GROUP_NAME:[{type:0,value:"請輸入群組名稱。"}],PLEASE_ENTER_ALBUM_NAME:[{type:0,value:"請輸入相簿名稱。"}],PLEASE_ENTER_GALLERY_NAME:[{type:0,value:"請輸入博覽館名稱。"}],COULDNT_SAVE_GROUP:[{type:0,value:"無法儲存群組。請再試一次。"}],COULDNT_SAVE_ALBUM:[{type:0,value:"無法儲存相簿。請再試一次。"}],COULDNT_SAVE_GALLERY:[{type:0,value:"無法儲存博覽館。請再試一次。"}],GROUP_PRIVATE_PHOTO_WARNING:[{type:0,value:"此相片是私人的。如果你將此相片新增到群組，該群組的成員將可以查看該相片，並且留言、標籤和加入附註。"}],CONFIRM_GROUP_PRIVATE_PHOTO_ADD:[{type:0,value:"確定，要新增到群組"}],DONT_SHOW_MESSAGE_AGAIN:[{type:0,value:"不要再顯示此訊息"}],COULDNT_ADD_TO_GROUP_TOO_MANY:[{type:0,value:"此相片加入的群組數量已達上限"}],COULDNT_ADD_TO_GROUP_TOO_MANY_NON_PRO:[{type:0,value:"此相片加入的非 Pro 帳戶群組數量已達上限"}],YOU_ALREADY_ADDED_MAXIMUM_TO_GROUP:[{type:0,value:"你新增至此群組的相片數量已達上限"}],COULDNT_ADD_PHOTO:[{type:0,value:"不好了！我們無法加入"},{type:5,value:"mediaType",options:{photo:{value:[{type:0,value:"相片"}]},video:{value:[{type:0,value:"影片"}]},other:{value:[{type:0,value:"相片"}]}}},{type:0,value:"。"}],ONLY_PUBLIC_PHOTOS_ALLOWED:[{type:0,value:"噢！只允許公開的"},{type:5,value:"mediaType",options:{photo:{value:[{type:0,value:"相片"}]},video:{value:[{type:0,value:"影片"}]},other:{value:[{type:0,value:"相片"}]}}},{type:0,value:"。"}],GALLERY_FULL:[{type:0,value:"噢！此博覽館空間已滿。"}],ONLY_SAFE_PHOTOS_ALLOWED:[{type:0,value:"哦哦！只允許已標記為「安全」的"},{type:5,value:"mediaType",options:{photo:{value:[{type:0,value:"相片"}]},video:{value:[{type:0,value:"影片"}]},other:{value:[{type:0,value:"相片"}]}}},{type:0,value:"。"}],YOUVE_BEEN_BLOCKED:[{type:0,value:"你已被相片擁有者封鎖。"}],OWNER_DOESNT_ALLOW_IN_GALLERIES:[{type:0,value:"不好了！"},{type:5,value:"mediaType",options:{photo:{value:[{type:0,value:"相片"}]},video:{value:[{type:0,value:"影片"}]},other:{value:[{type:0,value:"相片"}]}}},{type:0,value:"擁有者不允許將他們的作品加入博覽館。"}],GROUP_LIMIT_REACHED_PER_MONTH:[{type:0,value:"你已達到每月發佈 "},{type:1,value:"countString"},{type:0,value:" "},{type:6,value:"count",options:{one:{value:[{type:0,value:"個項目"}]},other:{value:[{type:0,value:"個項目"}]}},offset:0,pluralType:"cardinal"},{type:0,value:"的群組上限。"}],GROUP_LIMIT_REACHED_PER_WEEK:[{type:0,value:"你已達到每星期發佈 "},{type:1,value:"countString"},{type:0,value:" "},{type:6,value:"count",options:{one:{value:[{type:0,value:"個項目"}]},other:{value:[{type:0,value:"個項目"}]}},offset:0,pluralType:"cardinal"},{type:0,value:"的群組上限。"}],GROUP_LIMIT_REACHED_PER_DAY:[{type:0,value:"你已達到每日發佈 "},{type:1,value:"countString"},{type:0,value:" "},{type:6,value:"count",options:{one:{value:[{type:0,value:"個項目"}]},other:{value:[{type:0,value:"個項目"}]}},offset:0,pluralType:"cardinal"},{type:0,value:"的群組上限。"}],GROUP_LIMIT_REACHED:[{type:0,value:"你已達到發佈 "},{type:1,value:"countString"},{type:0,value:" "},{type:6,value:"count",options:{one:{value:[{type:0,value:"個項目"}]},other:{value:[{type:0,value:"個項目"}]}},offset:0,pluralType:"cardinal"},{type:0,value:"的群組上限。"}],GROUP_DISABLED_POSTING:[{type:0,value:"無法在此群組發佈帖文。"}],GROUP_ONLY_ACCEPTS_PHOTOS:[{type:0,value:"此群組只允許相片。"}],GROUP_ONLY_ACCEPTS_VIDEOS:[{type:0,value:"此群組只允許影片。"}],GROUP_VIDEO_STILL_PROCESSING:[{type:0,value:"此影片仍在處理中。"}],GROUP_DOESNT_ALLOW_PHOTO_VIDEO:[{type:0,value:"此群組不允許相片/影片類型的內容。"}],GROUP_DOESNT_ALLOW_SCREENSHOTS:[{type:0,value:"此群組不允許螢幕截圖。"}],GROUP_DOESNT_ALLOW_ART:[{type:0,value:"此群組不允許美術/插畫類型的內容。"}],GROUP_DOESNT_ALLOW_RESTRICTED:[{type:0,value:"此群組不允許限制級內容。"}],GROUP_ONLY_ALLOWS_SAFE:[{type:0,value:"此群組只允許安全的內容。"}],GROUP_REQUIRES_GEOTAG:[{type:0,value:"此群組只允許有位置標記的項目。"}],ALREADY_GROUP_WITH_NAME:[{type:0,value:"此名稱的群組已存在。"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-comment-item-view",(function(n,t){var e=n.Template.Handlebars.revive({1:function(n,t,e,l,a){var r,o=n.lambda,i=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t<a class="avatar person tiny"\n\t\tstyle="background-image: url('+i(o(null!=(r=null!=(r=null!=t?u(t,"author"):t)?u(r,"buddyicon"):r)?u(r,"default"):r,t))+');"\n\t\thref="/photos/'+i(o(null!=(r=null!=t?u(t,"author"):t)?u(r,"pathAlias"):r,t))+'/"\n\t\tdata-person-nsid="'+i(o(null!=(r=null!=t?u(t,"author"):t)?u(r,"nsid"):r,t))+'"></a>\n'},3:function(n,t,e,l,a){var r,o=n.lambda,i=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t<a class="avatar person tiny"\n\t\tstyle="background-image: url('+i(o(null!=(r=null!=t?u(t,"author"):t)?u(r,"buddyicon"):r,t))+');"\n\t\thref="/photos/'+i(o(null!=(r=null!=t?u(t,"author"):t)?u(r,"pathAlias"):r,t))+'/"\n\t\tdata-person-nsid="'+i(o(null!=(r=null!=t?u(t,"author"):t)?u(r,"nsid"):r,t))+'"></a>\n'},5:function(n,t,e,l,a){var r,o=n.escapeExpression,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t<span class="deleted">'+o(n.lambda(null!=(r=null!=t?i(t,"author"):t)?i(r,"displayname"):r,t))+" ("+o((i(e,"intlMessage")||t&&i(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"common.DELETED_USER"},data:a,loc:{start:{line:19,column:51},end:{line:19,column:97}}}))+")</span>\n"},7:function(n,t,e,l,a){var r,o=n.lambda,i=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t<a href="/photos/'+i(o(null!=(r=null!=t?u(t,"author"):t)?u(r,"pathAlias"):r,t))+'/" class="author-name" >'+i(o(null!=(r=null!=t?u(t,"author"):t)?u(r,"displayname"):r,t))+"</a>\n"},9:function(n,t,e,l,a){var r,o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(r=n.invokePartial(o(l,"pro-badge"),t,{name:"pro-badge",hash:{purchaseProURL:null!=t?o(t,"upgradeProLink"):t,badgeType:null!=(r=null!=t?o(t,"author"):t)?o(r,"proBadge"):r},data:a,indent:"\t\t\t\t\t",helpers:e,partials:l,decorators:n.decorators}))?r:""},11:function(n,t,e,l,a){var r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return n.escapeExpression((r(e,"intlMessage")||t&&r(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{time:null!=t?r(t,"time"):t,intlName:null!=t?r(t,"intlName"):t},data:a,loc:{start:{line:28,column:72},end:{line:28,column:115}}}))},13:function(n,t,e,l,a){var r,o=null!=t?t:n.nullContext||{},i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t<a role="button" class="comment-action comment-action-menu-button"\n\t\t\t\t\t\t'+(null!=(r=i(e,"if").call(o,null!=t?i(t,"canEdit"):t,{name:"if",hash:{},fn:n.program(14,a,0),inverse:n.noop,data:a,loc:{start:{line:34,column:6},end:{line:34,column:49}}}))?r:"")+"\n\t\t\t\t\t\t"+(null!=(r=i(e,"if").call(o,null!=t?i(t,"canCurate"):t,{name:"if",hash:{},fn:n.program(16,a,0),inverse:n.noop,data:a,loc:{start:{line:35,column:6},end:{line:35,column:53}}}))?r:"")+"\n\t\t\t\t\t\t"+(null!=(r=i(e,"if").call(o,null!=t?i(t,"permalink"):t,{name:"if",hash:{},fn:n.program(18,a,0),inverse:n.noop,data:a,loc:{start:{line:36,column:6},end:{line:36,column:60}}}))?r:"")+"\n\t\t\t\t\t\t"+(null!=(r=i(e,"if").call(o,null!=(r=null!=t?i(t,"author"):t)?i(r,"pathAlias"):r,{name:"if",hash:{},fn:n.program(20,a,0),inverse:n.noop,data:a,loc:{start:{line:37,column:6},end:{line:37,column:74}}}))?r:"")+'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<svg class="icon icon-more_horizontal"><use xlink:href="#icon-more_horizontal"></use></svg>\n\t\t\t\t\t</a>\n'},14:function(n,t,e,l,a){return'data-menutype="owner"'},16:function(n,t,e,l,a){return'data-menutype="curator"'},18:function(n,t,e,l,a){var r,o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'data-permalink="'+n.escapeExpression("function"==typeof(r=null!=(r=o(e,"permalink")||(null!=t?o(t,"permalink"):t))?r:n.hooks.helperMissing)?r.call(null!=t?t:n.nullContext||{},{name:"permalink",hash:{},data:a,loc:{start:{line:36,column:39},end:{line:36,column:52}}}):r)+'"'},20:function(n,t,e,l,a){var r,o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'data-pathAlias="'+n.escapeExpression(n.lambda(null!=(r=null!=t?o(t,"author"):t)?o(r,"pathAlias"):r,t))+'"'},compiler:[8,">= 4.3.0"],main:function(n,t,e,l,a){var r,o,i=null!=t?t:n.nullContext||{},u=n.hooks.helperMissing,s="function",c=n.escapeExpression,p=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'<div class="comment-item" data-id="'+c(typeof(o=null!=(o=p(e,"id")||(null!=t?p(t,"id"):t))?o:u)===s?o.call(i,{name:"id",hash:{},data:a,loc:{start:{line:1,column:35},end:{line:1,column:41}}}):o)+'" id="'+c((p(e,"commentPermalinkId")||t&&p(t,"commentPermalinkId")||u).call(i,null!=t?p(t,"id"):t,{name:"commentPermalinkId",hash:{},data:a,loc:{start:{line:1,column:47},end:{line:1,column:72}}}))+'">\n\n'+(null!=(r=p(e,"if").call(i,null!=(r=null!=(r=null!=t?p(t,"author"):t)?p(r,"buddyicon"):r)?p(r,"default"):r,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.program(3,a,0),data:a,loc:{start:{line:3,column:1},end:{line:13,column:8}}}))?r:"")+'\n\t<div class="content-container">\n\t\t<header>\n\t\t\t<div class="author-info">\n'+(null!=(r=p(e,"if").call(i,null!=(r=null!=t?p(t,"author"):t)?p(r,"isDeleted"):r,{name:"if",hash:{},fn:n.program(5,a,0),inverse:n.program(7,a,0),data:a,loc:{start:{line:18,column:4},end:{line:22,column:11}}}))?r:"")+"\n"+(null!=(r=p(e,"if").call(i,null!=(r=null!=t?p(t,"author"):t)?p(r,"isPro"):r,{name:"if",hash:{},fn:n.program(9,a,0),inverse:n.noop,data:a,loc:{start:{line:24,column:4},end:{line:26,column:11}}}))?r:"")+'\n\t\t\t\t<span class="comment-date">'+(null!=(r=(p(e,"friendlySinceDate")||t&&p(t,"friendlySinceDate")||u).call(i,null!=t?p(t,"timeago"):t,!0,!1,{name:"friendlySinceDate",hash:{},fn:n.program(11,a,0),inverse:n.noop,data:a,loc:{start:{line:28,column:31},end:{line:28,column:137}}}))?r:"")+'</span>\n\t\t\t</div>\n\n\t\t\t<div class="comment-actions">\n'+(null!=(r=p(e,"if").call(i,null!=t?p(t,"hasActionMenuOptions"):t,{name:"if",hash:{},fn:n.program(13,a,0),inverse:n.noop,data:a,loc:{start:{line:32,column:4},end:{line:41,column:11}}}))?r:"")+'\t\t\t</div>\n\t\t</header>\n\n\t\t<div class="comment-content" '+c(typeof(o=null!=(o=p(e,"emojiParserAttr")||(null!=t?p(t,"emojiParserAttr"):t))?o:u)===s?o.call(i,{name:"emojiParserAttr",hash:{},data:a,loc:{start:{line:46,column:31},end:{line:46,column:50}}}):o)+">"+c((p(e,"renderTrustedMarkupWithLineBreaks")||t&&p(t,"renderTrustedMarkupWithLineBreaks")||u).call(i,null!=t?p(t,"contentSecure"):t,{name:"renderTrustedMarkupWithLineBreaks",hash:{},data:a,loc:{start:{line:46,column:51},end:{line:46,column:102}}}))+"</div>\n\t</div>\n</div>\n"},usePartial:!0,useData:!0}),l={};n.Array.each(["pro-badge"],(function(t){var e=n.Template.get("hermes/"+t);e&&(l[t]=e)})),n.Template.register("hermes/comment-item-view",(function(t,a){return(a=a||{}).partials=a.partials?n.merge(l,a.partials):l,e(t,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-pro-badge"]});YUI.add("comment-item-view",(function(e,t){var i=new e.SubscriptionsHelper;e.namespace("Views")[this.name]=e.Base.create("comment-item-view",e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){this.params=e,this.comment=this.params.comment,this.commentsViewHelper=this.params.commentsViewHelper,this.commentListConfig=this.params.commentsViewHelper.config.commentListConfig;let t=this.appContext.getViewer().nsid===this.comment.author.id;this.isSignedIn=this.appContext.getViewer().signedIn,this.canEdit=t,this.canCurate=this.commentsViewHelper.commentsObj.isSubjectOwner,this.canReply=!t&&this.commentsViewHelper.commentsObj.commentingEnabled,this.canPermalink=this.commentListConfig.showPermalinks},loadState:function(){return e.Promise.resolve()},buildContainer:function(){var t={id:this.comment.id,author:this.comment.author,content:this.comment.content,contentSecure:this.comment.contentSecure,date:this.comment.date,timeago:this.comment.timeago,isSignedIn:this.isSignedIn,canEdit:this.canEdit,canCurate:this.canCurate,permalink:this.comment.permalink,hasActionMenuOptions:this.canEdit||this.canCurate||this.canPermalink||this.canReply,emojiParserAttr:e.config.flickr.emojis.parserAttr,upgradeProLink:i.getProLandingPageUrl(i.UTM_PRO_BADGE,{utm_medium:this.name})};this.setContainerWithTemplate("comment-item-view",t)}})}),"@VERSION@",{requires:["hermes-template-comment-item-view","subscriptions-helper"],langBundles:["common","relative-dates"]});YUI.add("hermes-lang-relative-dates_zh-hk",(function(e,t){e.Intl.add("hermes/relative-dates","zh-HK",{SECOND_LONG:[{type:0,value:"1 秒"}],SECONDS_LONG:[{type:1,value:"time"},{type:0,value:" 秒"}],MINUTE_LONG:[{type:0,value:"1 分鐘"}],MINUTES_LONG:[{type:1,value:"time"},{type:0,value:" 分鐘"}],HOUR_LONG:[{type:0,value:"1 小時"}],HOURS_LONG:[{type:1,value:"time"},{type:0,value:" 小時"}],DAY_LONG:[{type:0,value:"1 天"}],DAYS_LONG:[{type:1,value:"time"},{type:0,value:" 天"}],MONTH_LONG:[{type:0,value:"1 個月"}],MONTHS_LONG:[{type:1,value:"time"},{type:0,value:" 個月前"}],YEAR_LONG:[{type:0,value:"1 年"}],YEARS_LONG:[{type:1,value:"time"},{type:0,value:" 年"}],SECOND_SHORT:[{type:0,value:"1 秒"}],SECONDS_SHORT:[{type:1,value:"time"},{type:0,value:" 秒"}],MINUTE_SHORT:[{type:0,value:"1 分鐘"}],MINUTES_SHORT:[{type:1,value:"time"},{type:0,value:" 分鐘"}],HOUR_SHORT:[{type:0,value:"1 小時"}],HOURS_SHORT:[{type:1,value:"time"},{type:0,value:" 小時"}],DAY_SHORT:[{type:0,value:"1 天"}],DAYS_SHORT:[{type:1,value:"time"},{type:0,value:" 天"}],MONTH_SHORT:[{type:0,value:"1 個月"}],MONTHS_SHORT:[{type:1,value:"time"},{type:0,value:" 個月"}],YEAR_SHORT:[{type:0,value:"1 年"}],YEARS_SHORT:[{type:1,value:"time"},{type:0,value:" 年"}],SECOND_LONG_FUTURE:[{type:0,value:"於 1 秒內"}],SECONDS_LONG_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 秒內"}],MINUTE_LONG_FUTURE:[{type:0,value:"於 1 分鐘內"}],MINUTES_LONG_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 分鐘內"}],HOUR_LONG_FUTURE:[{type:0,value:"於 1 小時內"}],HOURS_LONG_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 小時內"}],DAY_LONG_FUTURE:[{type:0,value:"於 1 天內"}],DAYS_LONG_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 天內"}],MONTH_LONG_FUTURE:[{type:0,value:"於 1 個月內"}],MONTHS_LONG_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 個月內"}],YEAR_LONG_FUTURE:[{type:0,value:"於 1 年內"}],YEARS_LONG_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 年內"}],FUTURE_SHORT_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:"內"}],SECOND_SHORT_FUTURE:[{type:0,value:"於 1 秒內"}],SECONDS_SHORT_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 秒內"}],MINUTE_SHORT_FUTURE:[{type:0,value:"於 1 分鐘內"}],MINUTES_SHORT_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 分鐘內"}],HOUR_SHORT_FUTURE:[{type:0,value:"於 1 小時內"}],HOURS_SHORT_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 小時內"}],DAY_SHORT_FUTURE:[{type:0,value:"於 1 天內"}],DAYS_SHORT_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 天內"}],MONTH_SHORT_FUTURE:[{type:0,value:"於 1 個月內"}],MONTHS_SHORT_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 個月內"}],YEAR_SHORT_FUTURE:[{type:0,value:"於 1 年內"}],YEARS_SHORT_FUTURE:[{type:0,value:"於 "},{type:1,value:"time"},{type:0,value:" 年內"}],SECOND_LONG_PAST:[{type:0,value:"1 秒前"}],SECONDS_LONG_PAST:[{type:1,value:"time"},{type:0,value:" 秒前"}],MINUTE_LONG_PAST:[{type:0,value:"1 分鐘前"}],MINUTES_LONG_PAST:[{type:1,value:"time"},{type:0,value:" 分鐘前"}],HOUR_LONG_PAST:[{type:0,value:"1 小時前"}],HOURS_LONG_PAST:[{type:1,value:"time"},{type:0,value:" 小時前"}],DAY_LONG_PAST:[{type:0,value:"1 天前"}],DAYS_LONG_PAST:[{type:1,value:"time"},{type:0,value:" 天前"}],MONTH_LONG_PAST:[{type:0,value:"1 個月前"}],MONTHS_LONG_PAST:[{type:1,value:"time"},{type:0,value:" 個月前"}],YEAR_LONG_PAST:[{type:0,value:"1 年前"}],YEARS_LONG_PAST:[{type:1,value:"time"},{type:0,value:" 年前"}],SECOND_SHORT_PAST:[{type:0,value:"1 秒前"}],SECONDS_SHORT_PAST:[{type:1,value:"time"},{type:0,value:" 秒前"}],MINUTE_SHORT_PAST:[{type:0,value:"1 分鐘前"}],MINUTES_SHORT_PAST:[{type:1,value:"time"},{type:0,value:" 分鐘前"}],HOUR_SHORT_PAST:[{type:0,value:"1 小時前"}],HOURS_SHORT_PAST:[{type:1,value:"time"},{type:0,value:" 小時前"}],DAY_SHORT_PAST:[{type:0,value:"1 天前"}],DAYS_SHORT_PAST:[{type:1,value:"time"},{type:0,value:" 天前"}],MONTH_SHORT_PAST:[{type:0,value:"1 個月前"}],MONTHS_SHORT_PAST:[{type:1,value:"time"},{type:0,value:" 個月前"}],YEAR_SHORT_PAST:[{type:0,value:"1 年前"}],YEARS_SHORT_PAST:[{type:1,value:"time"},{type:0,value:" 年前"}],NO_DATE:[{type:0,value:"-"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-signup-modal",(function(n,e){var l=n.Template.Handlebars.revive({1:function(n,e,l,a,s){var t,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return" "+n.escapeExpression("function"==typeof(t=null!=(t=i(l,"signUpHeaderClass")||(null!=e?i(e,"signUpHeaderClass"):e))?t:n.hooks.helperMissing)?t.call(null!=e?e:n.nullContext||{},{name:"signUpHeaderClass",hash:{},data:s,loc:{start:{line:2,column:43},end:{line:2,column:64}}}):t)},3:function(n,e,l,a,s){var t,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return" style=\"background-image:url('"+n.escapeExpression("function"==typeof(t=null!=(t=i(l,"signUpHeaderImage")||(null!=e?i(e,"signUpHeaderImage"):e))?t:n.hooks.helperMissing)?t.call(null!=e?e:n.nullContext||{},{name:"signUpHeaderImage",hash:{},data:s,loc:{start:{line:2,column:127},end:{line:2,column:148}}}):t)+"')\""},compiler:[8,">= 4.3.0"],main:function(n,e,l,a,s){var t,i,o=null!=e?e:n.nullContext||{},r=n.hooks.helperMissing,u="function",c=n.escapeExpression,p=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="signup-modal-body">\n\t<div class="head'+(null!=(t=p(l,"if").call(o,null!=e?p(e,"signUpHeaderClass"):e,{name:"if",hash:{},fn:n.program(1,s,0),inverse:n.noop,data:s,loc:{start:{line:2,column:17},end:{line:2,column:71}}}))?t:"")+'"'+(null!=(t=p(l,"if").call(o,null!=e?p(e,"signUpHeaderImage"):e,{name:"if",hash:{},fn:n.program(3,s,0),inverse:n.noop,data:s,loc:{start:{line:2,column:72},end:{line:2,column:158}}}))?t:"")+'></div>\n\t<h3 class="signup-title">'+c(typeof(i=null!=(i=p(l,"signUpTitle")||(null!=e?p(e,"signUpTitle"):e))?i:r)===u?i.call(o,{name:"signUpTitle",hash:{},data:s,loc:{start:{line:3,column:26},end:{line:3,column:41}}}):i)+'</h3>\n\t<p class="signup-message">'+c(typeof(i=null!=(i=p(l,"signUpMessage")||(null!=e?p(e,"signUpMessage"):e))?i:r)===u?i.call(o,{name:"signUpMessage",hash:{},data:s,loc:{start:{line:4,column:27},end:{line:4,column:44}}}):i)+'</p>\n\t<button class="large action signup-button">'+c((p(l,"intlMessage")||e&&p(e,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:s,loc:{start:{line:5,column:44},end:{line:5,column:85}}}))+'</button>\n</div>\n<div class="signup-modal-footer">\n\t<span>'+c((p(l,"intlMessage")||e&&p(e,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.HAVE_A_FLICKR_ACCOUNT"},data:s,loc:{start:{line:8,column:7},end:{line:8,column:62}}}))+'</span>\n\t<a href="#" class="signin-link">'+c((p(l,"intlMessage")||e&&p(e,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.SIGN_IN"},data:s,loc:{start:{line:9,column:33},end:{line:9,column:74}}}))+"</a>\n</div>\n"},useData:!0}),a={};n.Array.each([],(function(e){var l=n.Template.get("hermes/"+e);l&&(a[e]=l)})),n.Template.register("hermes/signup-modal",(function(e,s){return(s=s||{}).partials=s.partials?n.merge(a,s.partials):a,l(e,s)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("signup-modal-view",(function(s,i){"use strict";s.namespace("Views").SignUpModal=s.FlickrView.create(this.name,s.Views.FluidModal,[],{initializer:function(s){return s.signUpHeaderClass||(s.signUpHeaderClass=""),this.set("showFooter",!1),this.set("showHeader",!1),this.set("showButtonFlavorText",!1),this.set("showButtons",!1),this.set("showActionButton",!1),this.set("showCancelButton",!1),this.set("signUpHeaderClass",s.signUpHeaderClass),this.set("signUpHeaderImage",s.signUpHeaderImage),this.set("signUpTitle",s.signUpTitle),this.set("signUpMessage",s.signUpMessage),this.set("beaconPrefix",s.beaconPrefix),this.set("classList","signup-modal"),this},buildContainer:function(){if(!this.alreadyShowingModal){var s={signUpHeaderClass:this.get("signUpHeaderClass"),signUpHeaderImage:this.get("signUpHeaderImage"),signUpTitle:this.get("signUpTitle"),signUpMessage:this.get("signUpMessage")};this.set("htmlMessage",this.templates("signup-modal")(s)),this.constructor.superclass.buildContainer.call(this)}return this},activate:function(){return this.get("container").one(".signup-button").on("click",this.handleAction.bind(this)),this.get("container").one(".signin-link").on("click",this.handleSignIn.bind(this)),this.constructor.superclass.activate.call(this),this},handleSignIn:function(s){this.fire("signInClick",s),this.constructor.superclass.handleAction.call(this)},handleAction:function(s){this.fire("signUpClick",s),this.constructor.superclass.handleAction.call(this)}})}),"@VERSION@",{requires:["flickr-view","fluid-modal-view","hermes-template-signup-modal"],optionalRequires:["fluid"],langBundles:["common"]});